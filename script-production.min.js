if($(document).ready((function(){$(".fancybox").fancybox({helpers:{overlay:{locked:!1},title:{type:"float"}}}),$(document).on("show.bs.modal",".modal",(function(){var e=1040+10*$(".modal:visible").length;$(this).css("z-index",e),setTimeout((function(){$(".modal-backdrop").not(".modal-stack").css("z-index",e-1).addClass("modal-stack")}),0)})),$(document).on("hidden.bs.modal",".modal",(function(){$(".modal:visible").length&&$(document.body).addClass("modal-open")}));var e=$(".large-image");$(".image-additional ul li a").bind("mouseover",(function(){e.attr("title",$(this).attr("title")),e.children("img").attr("src",$(this).attr("data-img")),e.attr("href",$(this).attr("href"))}))})),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");function ShowMessage(e,t){var o=1e3;1<arguments.length&&(o=t),show_preloader(),set_preloaders_message('<div id="add_product_notification">'+e.replace(" ","&nbsp;")+"</div>"),changeCss(jQuery("#own_preloader")),window.setTimeout(hide_preloader,o)}function cartTriggers(){$(".total_amount_s").html(),$(".cart-table .del a").each((function(){$(this).attr("in_process")||($(this).attr("in_process",!0),$(this).bind("click dblclick",(function(e){e.preventDefault();var t=$(this);if(t.attr("processed"))return!1;if(confirm("Уверены, что хотите удалить товар?")){t.attr("processed",!0),e.preventDefault();var o=t.parents("tr:first"),i="/cart_items/"+t.attr("iid").replace("delete_","")+".json";show_preloader(),$.ajax({url:i,type:"post",data:{_method:"delete"},dataType:"json",success:function(e){t.attr("processed",!1),hide_preloader(),0===e.discounts.length?$(".discounts-list").hide():($.each(e.discounts,(function(){var e=this.description,t=InSales.formatMoney(this.amount,cv_currency_format);$(".discounts-list").html('<tr class="row-table-1 discounts-list-line"><td class="right cart-total-name "><b>'+e+'</b></td><td class="right cart-total1 nowrap"> - '+t+"</td></tr>")})),$(".discounts-list").show()),0==e.total_price&&($("#cartform").hide(),$(".cart-message").show()),o.slideUp("normal",(function(){o.remove(),$("#cartform table td.index:visible").each((function(e){$(this).html(e+1+".")}))})),$(".total_amount").html(InSales.formatMoney(e.total_price,cv_currency_format)),$(".cart_total_price").html(InSales.formatMoney(e.total_price,cv_currency_format)),$(".cart_items_count").html(e.items_count),1==e.items_count?$("#cart_text").html("товар"):4<e.items_count?$("#cart_text").html("товаров"):$("#cart_text").html("товара")},error:function(){return!t.attr("processed")&&void t.attr("processed",!1)}})}return!1})))})),qSwaps=[],$(".cart-table .quantity input").each((function(e){qSwaps[e]=$(this).val()})),$(".cart-table .quantity input").each((function(e){$(this).attr("processed")||($(this).attr("processed",!0),$(this).bind("change keyup",(function(){var t=$(this),o=t.val();val=o.replace(/[^\d\.\,]+/g,""),val,val!=o&&t.val(val),val!=qSwaps[e]&&(qSwaps[e]=val,t.parents("tr:first").find(".total-price").html(InSales.formatMoney(val*t.attr("price"),cv_currency_format)),function(){var e;e=$("#cartform").serialize(),show_preloader(),$.ajax({url:"/cart_items/update_all.json",type:"post",data:e,dataType:"json",success:function(e){hide_preloader(),0===e.discounts.length?$(".discounts-list").hide():($.each(e.discounts,(function(){var e=this.description,t=InSales.formatMoney(this.amount,cv_currency_format);$(".discounts-list").html('<tr class="row-table-1 discounts-list-line"><td class="right cart-total-name "><b>'+e+'</b></td><td class="right cart-total1 nowrap"> - '+t+"</td></tr>")})),$(".discounts-list").show()),$(".total_amount").html(InSales.formatMoney(e.total_price,cv_currency_format)),$(".cart_total_price").html(InSales.formatMoney(e.total_price,cv_currency_format)),$(".cart_items_count").html(e.items_count),1==e.items_count?$("#cart_text").html("товар"):4<e.items_count?$("#cart_text").html("товаров"):$("#cart_text").html("товара")},error:function(){alert("произошла ошибка"),hide_preloader()}})}())})).bind("blur",(function(){var e=$(this),t=e.val();val=t.replace(/[^\d\.\,]+/g,""),(0>val||""==val)&&(val=0),e.val(val),e.change()})))}))}function getParam(e){for(var t=location.search.substring(1).split("&"),o="",i=0;i<t.length;i++)if(t[i].split("=")[0]==e)return 1<t[i].split("=").length&&(o=t[i].split("=")[1]),o;return""}function recalc_offer_price(){rc_total_count=0,$(".product-variants input:enabled").each((function(){var e=$(this).val();(isNaN(e)||0>e)&&(e=0,$(this).val(e)),rc_total_count+=$(this).attr("price")*e})),$("#price-field").html(InSales.formatMoney(rc_total_count,cv_currency_format))}!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(2>t[0]&&9>t[1]||1==t[0]&&9==t[1]&&1>t[2]||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(e){"use strict";function t(t,i){return this.each((function(){var a=e(this),n=a.data("bs.modal"),r=e.extend({},o.DEFAULTS,a.data(),"object"==typeof t&&t);n||a.data("bs.modal",n=new o(this,r)),"string"==typeof t?n[t](i):r.show&&n.show(i)}))}var o=function(t,o){this.options=o,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};o.VERSION="3.3.7",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},o.prototype.show=function(t){var i=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",(function(){i.$element.one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)}))})),this.backdrop((function(){var a=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),a&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var n=e.Event("shown.bs.modal",{relatedTarget:t});a?i.$dialog.one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(n)})).emulateTransitionEnd(o.TRANSITION_DURATION):i.$element.trigger("focus").trigger(n)})))},o.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),!this.isShown||t.isDefaultPrevented()||(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):!this.isShown&&this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")}))},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(t){var i=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&a;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+a).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy((function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target!==e.currentTarget||("static"==this.options.backdrop?this.$element[0].focus():this.hide()))}),this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=o,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(o){var i=e(this),a=i.attr("href"),n=e(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},n.data(),i.data());i.is("a")&&o.preventDefault(),n.one("show.bs.modal",(function(e){e.isDefaultPrevented()||n.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),t.call(n,r,this)}))}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var i=e(this),a=i.data("bs.tab");a||i.data("bs.tab",a=new o(this)),"string"==typeof t&&a[t]()}))}var o=function(t){this.element=e(t)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.show=function(){var t=this.element,o=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var a=o.find(".active:last a"),n=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:a[0]});if(a.trigger(n),t.trigger(r),!r.isDefaultPrevented()&&!n.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),o),this.activate(s,s.parent(),(function(){a.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:a[0]})}))}}},o.prototype.activate=function(t,i,a){function n(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),a&&a()}var r=i.find("> .active"),s=a&&e.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",n).emulateTransitionEnd(o.TRANSITION_DURATION):n(),r.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=o,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var a=function(o){o.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',a).on("click.bs.tab.data-api",'[data-toggle="pill"]',a)}(jQuery),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}((function(){"use strict";function e(e){return null!=e}function t(e){e.preventDefault()}function o(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function i(e,t,o){0<o&&(s(e,t),setTimeout((function(){l(e,t)}),o))}function a(e){return Math.max(Math.min(e,100),0)}function n(e){return Array.isArray(e)?e:[e]}function r(e){var t=(e+="").split(".");return 1<t.length?t[1].length:0}function s(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function l(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function c(e){var t=void 0!==window.pageXOffset,o="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:o?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:o?e.documentElement.scrollTop:e.body.scrollTop}}function d(e,t){return 100/(t-e)}function u(e,t){return 100*t/(e[1]-e[0])}function p(e,t){for(var o=1;e>=t[o];)o+=1;return o}function f(e,t,i){var a;if("number"==typeof t&&(t=[t]),!Array.isArray(t))throw new Error("noUiSlider (12.0.0): 'range' contains invalid value.");if(!o(a="min"===e?0:"max"===e?100:parseFloat(e))||!o(t[0]))throw new Error("noUiSlider (12.0.0): 'range' value isn't numeric.");i.xPct.push(a),i.xVal.push(t[0]),a?i.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(i.xSteps[0]=t[1]),i.xHighestCompleteStep.push(0)}function m(e,t,o){if(!t)return!0;o.xSteps[e]=u([o.xVal[e],o.xVal[e+1]],t)/d(o.xPct[e],o.xPct[e+1]);var i=(o.xVal[e+1]-o.xVal[e])/o.xNumSteps[e],a=Math.ceil(+i.toFixed(3)-1),n=o.xVal[e]+o.xNumSteps[e]*a;o.xHighestCompleteStep[e]=n}function h(e,t,o){this.xPct=[],this.xVal=[],this.xSteps=[o||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var i=[];for(var a in e)e.hasOwnProperty(a)&&i.push([e[a],a]);for(i.length&&"object"==typeof i[0][0]?i.sort((function(e,t){return e[0][0]-t[0][0]})):i.sort((function(e,t){return e[0]-t[0]})),a=0;a<i.length;a++)f(i[a][1],i[a][0],this);for(this.xNumSteps=this.xSteps.slice(0),a=0;a<this.xNumSteps.length;a++)m(a,this.xNumSteps[a],this)}function v(e){if("object"==typeof(t=e)&&"function"==typeof t.to&&"function"==typeof t.from)return!0;var t;throw new Error("noUiSlider (12.0.0): 'format' requires 'to' and 'from' methods.")}function g(e,t){if(!o(t))throw new Error("noUiSlider (12.0.0): 'step' is not numeric.");e.singleStep=t}function _(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider (12.0.0): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider (12.0.0): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider (12.0.0): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new h(t,e.snap,e.singleStep)}function k(e,t){if(t=n(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider (12.0.0): 'start' option is incorrect.");e.handles=t.length,e.start=t}function b(e,t){if("boolean"!=typeof(e.snap=t))throw new Error("noUiSlider (12.0.0): 'snap' option must be a boolean.")}function y(e,t){if("boolean"!=typeof(e.animate=t))throw new Error("noUiSlider (12.0.0): 'animate' option must be a boolean.")}function $(e,t){if("number"!=typeof(e.animationDuration=t))throw new Error("noUiSlider (12.0.0): 'animationDuration' option must be a number.")}function x(e,t){var o,i=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(o=1;o<e.handles;o++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider (12.0.0): 'connect' option doesn't match handle count.");i=t}e.connect=i}function w(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider (12.0.0): 'orientation' option is invalid.")}}function S(e,t){if(!o(t))throw new Error("noUiSlider (12.0.0): 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider (12.0.0): 'margin' option is only supported on linear sliders.")}function C(e,t){if(!o(t))throw new Error("noUiSlider (12.0.0): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit||2>e.handles)throw new Error("noUiSlider (12.0.0): 'limit' option is only supported on linear sliders with 2 or more handles.")}function T(e,t){if(!o(t)&&!Array.isArray(t))throw new Error("noUiSlider (12.0.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!o(t[0])&&!o(t[1]))throw new Error("noUiSlider (12.0.0): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){if(Array.isArray(t)||(t=[t,t]),!(e.padding=[e.spectrum.getMargin(t[0]),e.spectrum.getMargin(t[1])])===e.padding[0]||!1===e.padding[1])throw new Error("noUiSlider (12.0.0): 'padding' option is only supported on linear sliders.");if(0>e.padding[0]||0>e.padding[1])throw new Error("noUiSlider (12.0.0): 'padding' option must be a positive number(s).");if(100<=e.padding[0]+e.padding[1])throw new Error("noUiSlider (12.0.0): 'padding' option must not exceed 100% of the range.")}}function E(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider (12.0.0): 'direction' option was not recognized.")}}function P(e,t){if("string"!=typeof t)throw new Error("noUiSlider (12.0.0): 'behaviour' must be a string containing options.");var o=0<=t.indexOf("tap"),i=0<=t.indexOf("drag"),a=0<=t.indexOf("fixed"),n=0<=t.indexOf("snap"),r=0<=t.indexOf("hover");if(a){if(2!==e.handles)throw new Error("noUiSlider (12.0.0): 'fixed' behaviour must be used with 2 handles");S(e,e.start[1]-e.start[0])}e.events={tap:o||n,drag:i,fixed:a,snap:n,hover:r}}function O(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var o=0;o<e.handles;o++)e.tooltips.push(!0)}else{if(e.tooltips=n(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider (12.0.0): must pass a formatter for all handles.");e.tooltips.forEach((function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider (12.0.0): 'tooltips' must be passed a formatter or 'false'.")}))}}function M(e,t){v(e.ariaFormat=t)}function A(e,t){v(e.format=t)}function j(e,t){if("boolean"!=typeof(e.keyboardSupport=t))throw new Error("noUiSlider (12.0.0): 'keyboardSupport' option must be a boolean.")}function D(e,t){e.documentElement=t}function L(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider (12.0.0): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function N(e,t){if("object"!=typeof t)throw new Error("noUiSlider (12.0.0): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix)for(var o in e.cssClasses={},t)t.hasOwnProperty(o)&&(e.cssClasses[o]=e.cssPrefix+t[o]);else e.cssClasses=t}function I(t){var o={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:z,format:z},i={step:{r:!1,t:g},start:{r:!0,t:k},connect:{r:!0,t:x},direction:{r:!0,t:E},snap:{r:!1,t:b},animate:{r:!1,t:y},animationDuration:{r:!1,t:$},range:{r:!0,t:_},orientation:{r:!1,t:w},margin:{r:!1,t:S},limit:{r:!1,t:C},padding:{r:!1,t:T},behaviour:{r:!0,t:P},ariaFormat:{r:!1,t:M},format:{r:!1,t:A},tooltips:{r:!1,t:O},keyboardSupport:{r:!0,t:j},documentElement:{r:!1,t:D},cssPrefix:{r:!0,t:L},cssClasses:{r:!0,t:N}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(i).forEach((function(n){if(!e(t[n])&&void 0===a[n]){if(i[n].r)throw new Error("noUiSlider (12.0.0): '"+n+"' is required.");return!0}i[n].t(o,e(t[n])?t[n]:a[n])})),o.pips=t.pips;var n=document.createElement("div"),r=void 0!==n.style.msTransform,s=void 0!==n.style.transform;return o.transformRule=s?"transform":r?"msTransform":"webkitTransform",o.style=[["left","top"],["right","bottom"]][o.dir][o.ort],o}function F(e,o,r){function d(e,t){var o=J.createElement("div");return t&&s(o,t),e.appendChild(o),o}function u(e,t){return!!t&&d(e,o.cssClasses.connect)}function p(){var e;F&&((e=F).parentElement.removeChild(e),F=null)}function f(e){p();var t,i,a,n,r,l,c,u,f,m=e.mode,h=e.density||1,v=e.filter||!1,g=function(e,t,o){if("range"===e||"steps"===e)return K.xVal;if("count"===e){if(2>t)throw new Error("noUiSlider (12.0.0): 'values' (>= 2) required for mode 'count'.");var i=t-1,a=100/i;for(t=[];i--;)t[i]=i*a;t.push(100),e="positions"}return"positions"===e?t.map((function(e){return K.fromStepping(o?K.getStep(e):e)})):"values"===e?o?t.map((function(e){return K.fromStepping(K.getStep(K.toStepping(e)))})):t:void 0}(m,e.values||!1,e.stepped||!1),_=(t=h,i=m,a=g,n={},r=K.xVal[0],l=K.xVal[K.xVal.length-1],u=c=!1,f=0,(a=a.slice().sort((function(e,t){return e-t})).filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==r&&(a.unshift(r),c=!0),a[a.length-1]!==l&&(a.push(l),u=!0),a.forEach((function(e,o){var r,s,l,d,p,m,h,v,g,_,k=e,b=a[o+1],y="steps"===i;if(y&&(r=K.xNumSteps[o]),r||(r=b-k),!1!==k&&void 0!==b)for(r=Math.max(r,1e-7),s=k;s<=b;s=(s+r).toFixed(7)/1){for(v=(p=(d=K.toStepping(s))-f)/t,_=p/(g=Math.round(v)),l=1;l<=g;l+=1)n[(m=f+l*_).toFixed(5)]=[K.fromStepping(m),0];h=-1<a.indexOf(s)?1:y?2:0,!o&&c&&(h=0),s===b&&u||(n[d.toFixed(5)]=[s,h]),f=d}})),n),k=e.format||{to:Math.round};return F=q.appendChild(function(e,t,i){function a(e,t){var i=t===o.cssClasses.value,a=i?r:l;return t+" "+(i?c:u)[o.ort]+" "+a[e]}var n=J.createElement("div"),r=[];r[0]=o.cssClasses.valueNormal,r[1]=o.cssClasses.valueLarge,r[2]=o.cssClasses.valueSub;var l=[];l[0]=o.cssClasses.markerNormal,l[1]=o.cssClasses.markerLarge,l[2]=o.cssClasses.markerSub;var c=[o.cssClasses.valueHorizontal,o.cssClasses.valueVertical],u=[o.cssClasses.markerHorizontal,o.cssClasses.markerVertical];return s(n,o.cssClasses.pips),s(n,0===o.ort?o.cssClasses.pipsHorizontal:o.cssClasses.pipsVertical),Object.keys(e).forEach((function(r){!function(e,r,s){if(-1!==(s=t?t(r,s):s)){var l=d(n,!1);l.className=a(s,o.cssClasses.marker),l.style[o.style]=e+"%",0<s&&((l=d(n,!1)).className=a(s,o.cssClasses.value),l.setAttribute("data-value",r),l.style[o.style]=e+"%",l.innerHTML=i.to(r))}}(r,e[r][0],e[r][1])})),n}(_,v,k))}function m(){var e=j.getBoundingClientRect(),t="offset"+["Width","Height"][o.ort];return 0===o.ort?e.width||j[t]:e.height||j[t]}function h(e,t,i,a){var n=function(n){return!!(n=function(e,t,o){var i,a,n=0===e.type.indexOf("touch"),r=0===e.type.indexOf("mouse"),s=0===e.type.indexOf("pointer");if(0===e.type.indexOf("MSPointer")&&(s=!0),n){var l=function(e){return e.target===o||o.contains(e.target)};if("touchstart"===e.type){var d=Array.prototype.filter.call(e.touches,l);if(1<d.length)return!1;i=d[0].pageX,a=d[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,l);if(!u)return!1;i=u.pageX,a=u.pageY}}return t=t||c(J),(r||s)&&(i=e.clientX+t.x,a=e.clientY+t.y),e.pageOffset=t,e.points=[i,a],e.cursor=r||s,e}(n,a.pageOffset,a.target||t))&&(!q.hasAttribute("disabled")||a.doNotReject)&&(r=q,s=o.cssClasses.tap,((r.classList?!r.classList.contains(s):!new RegExp("\\b"+s+"\\b").test(r.className))||a.doNotReject)&&!(e===B.start&&void 0!==n.buttons&&1<n.buttons)&&(!a.hover||!n.buttons)&&(G||n.preventDefault(),n.calcPoint=n.points[o.ort],void i(n,a)));var r,s},r=[];return e.split(" ").forEach((function(e){t.addEventListener(e,n,!!G&&{passive:!0}),r.push([e,n])})),r}function v(e){var t,i,n,r,s,l,d=100*(e-(t=j,i=o.ort,n=t.getBoundingClientRect(),s=(r=t.ownerDocument).documentElement,l=c(r),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(l.x=0),i?n.top+l.y-s.clientTop:n.left+l.x-s.clientLeft))/m();return d=a(d),o.dir?100-d:d}function g(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&k(e,t)}function _(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return k(e,t);var i=(o.dir?-1:1)*(e.calcPoint-t.startCalcPoint);C(0<i,100*i/t.baseSize,t.locations,t.handleNumbers)}function k(e,i){i.handle&&(l(i.handle,o.cssClasses.active),W-=1),i.listeners.forEach((function(e){Z.removeEventListener(e[0],e[1])})),0===W&&(l(q,o.cssClasses.drag),E(),e.cursor&&(X.style.cursor="",X.removeEventListener("selectstart",t))),i.handleNumbers.forEach((function(e){$("change",e),$("set",e),$("end",e)}))}function b(e,i){var a;if(1===i.handleNumbers.length){var n=D[i.handleNumbers[0]];if(n.hasAttribute("disabled"))return!1;a=n.children[0],W+=1,s(a,o.cssClasses.active)}e.stopPropagation();var r=[],l=h(B.move,Z,_,{target:e.target,handle:a,listeners:r,startCalcPoint:e.calcPoint,baseSize:m(),pageOffset:e.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:e.buttons,locations:H.slice()}),c=h(B.end,Z,k,{target:e.target,handle:a,listeners:r,doNotReject:!0,handleNumbers:i.handleNumbers}),d=h("mouseout",Z,g,{target:e.target,handle:a,listeners:r,doNotReject:!0,handleNumbers:i.handleNumbers});r.push.apply(r,l.concat(c,d)),e.cursor&&(X.style.cursor=getComputedStyle(e.target).cursor,1<D.length&&s(q,o.cssClasses.drag),X.addEventListener("selectstart",t,!1)),i.handleNumbers.forEach((function(e){$("start",e)}))}function y(e,t){Y[e]=Y[e]||[],Y[e].push(t),"update"===e.split(".")[0]&&D.forEach((function(e,t){$("update",t)}))}function $(e,t,i){Object.keys(Y).forEach((function(a){var n=a.split(".")[0];e===n&&Y[a].forEach((function(e){e.call(N,Q.map(o.format.to),t,Q.slice(),i||!1,H.slice())}))}))}function x(e){return e+"%"}function w(e,t,i,n,r,s){return 1<D.length&&(n&&0<t&&(i=Math.max(i,e[t-1]+o.margin)),r&&t<D.length-1&&(i=Math.min(i,e[t+1]-o.margin))),1<D.length&&o.limit&&(n&&0<t&&(i=Math.min(i,e[t-1]+o.limit)),r&&t<D.length-1&&(i=Math.max(i,e[t+1]-o.limit))),o.padding&&(0===t&&(i=Math.max(i,o.padding[0])),t===D.length-1&&(i=Math.min(i,100-o.padding[1]))),((i=a(i=K.getStep(i)))!==e[t]||s)&&i}function S(e,t){var i=o.ort;return(i?t:e)+", "+(i?e:t)}function C(e,t,o,i){var a=o.slice(),n=[!e,e],r=[e,!e];i=i.slice(),e&&i.reverse(),1<i.length?i.forEach((function(e,o){var i=w(a,e,a[e]+t,n[o],r[o],!1);!1===i?t=0:(t=i-a[e],a[e]=i)})):n=r=[!0];var s=!1;i.forEach((function(e,i){s=P(e,o[e]+t,n[i],r[i])||s})),s&&i.forEach((function(e){$("update",e),$("slide",e)}))}function T(e,t){return o.dir?100-e-t:e}function E(){V.forEach((function(e){var t=50<H[e]?-1:1,o=3+(D.length+t*e);D[e].style.zIndex=o}))}function P(e,t,i,a){return!1!==(t=w(H,e,t,i,a,!1))&&(function(e,t){H[e]=t,Q[e]=K.fromStepping(t);var i="translate("+S(x(T(t,0)-ee),"0")+")";D[e].style[o.transformRule]=i,O(e),O(e+1)}(e,t),!0)}function O(e){if(L[e]){var t=0,i=100;0!==e&&(t=H[e-1]),e!==L.length-1&&(i=H[e]);var a=i-t,n="translate("+S(x(T(t,a)),"0")+")",r="scale("+S(a/100,"1")+")";L[e].style[o.transformRule]=n+" "+r}}function M(e,t){var a=n(e),r=void 0===H[0];t=void 0===t||!!t,o.animate&&!r&&i(q,o.cssClasses.tap,o.animationDuration),V.forEach((function(e){var t,i;P(e,null===(t=a[i=e])||!1===t||void 0===t?H[i]:("number"==typeof t&&(t+=""),t=o.format.from(t),!1===(t=K.toStepping(t))||isNaN(t)?H[i]:t),!0,!1)})),V.forEach((function(e){P(e,H[e],!0,!0)})),E(),V.forEach((function(e){$("update",e),null!==a[e]&&t&&$("set",e)}))}function A(){var e=Q.map(o.format.to);return 1===e.length?e[0]:e}var j,D,L,N,F,z,R,U,B=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},G=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),q=e,H=[],V=[],W=0,K=o.spectrum,Q=[],Y={},J=e.ownerDocument,Z=o.documentElement||J.documentElement,X=J.body,ee="rtl"===J.dir||1===o.ort?0:100;return s(z=q,o.cssClasses.target),0===o.dir?s(z,o.cssClasses.ltr):s(z,o.cssClasses.rtl),0===o.ort?s(z,o.cssClasses.horizontal):s(z,o.cssClasses.vertical),j=d(z,o.cssClasses.base),function(e,t){var i,a,n,r=d(t,o.cssClasses.connects);D=[],(L=[]).push(u(r,e[0]));for(var l=0;l<o.handles;l++)D.push((i=l,n=void 0,(n=d(a=d(t,o.cssClasses.origin),o.cssClasses.handle)).setAttribute("data-handle",i),o.keyboardSupport&&n.setAttribute("tabindex","0"),n.setAttribute("role","slider"),n.setAttribute("aria-orientation",o.ort?"vertical":"horizontal"),0===i?s(n,o.cssClasses.handleLower):i==o.handles-1&&s(n,o.cssClasses.handleUpper),a)),V[l]=l,L.push(u(r,e[l+1]))}(o.connect,j),(R=o.events).fixed||D.forEach((function(e,t){h(B.start,e.children[0],b,{handleNumbers:[t]})})),R.tap&&h(B.start,j,(function(e){e.stopPropagation();var t,a,n,r=v(e.calcPoint),s=(t=r,n=!(a=100),D.forEach((function(e,o){if(!e.hasAttribute("disabled")){var i=Math.abs(H[o]-t);(i<a||100===i&&100===a)&&(n=o,a=i)}})),n);return!1!==s&&(o.events.snap||i(q,o.cssClasses.tap,o.animationDuration),P(s,r,!0,!0),E(),$("slide",s,!0),$("update",s,!0),$("change",s,!0),$("set",s,!0),void(o.events.snap&&b(e,{handleNumbers:[s]})))}),{}),R.hover&&h(B.move,j,(function(e){var t=v(e.calcPoint),o=K.getStep(t),i=K.fromStepping(o);Object.keys(Y).forEach((function(e){"hover"===e.split(".")[0]&&Y[e].forEach((function(e){e.call(N,i)}))}))}),{hover:!0}),R.drag&&L.forEach((function(e,t){if(!1!==e&&0!==t&&t!==L.length-1){var i=D[t-1],a=D[t],n=[e];s(e,o.cssClasses.draggable),R.fixed&&(n.push(i.children[0]),n.push(a.children[0])),n.forEach((function(e){h(B.start,e,b,{handles:[i,a],handleNumbers:[t-1,t]})}))}})),M(o.start),N={destroy:function(){for(var e in o.cssClasses)o.cssClasses.hasOwnProperty(e)&&l(q,o.cssClasses[e]);for(;q.firstChild;)q.removeChild(q.firstChild);delete q.noUiSlider},steps:function(){return H.map((function(e,t){var o=K.getNearbySteps(e),i=Q[t],a=o.thisStep.step,n=null;!1!==a&&i+a>o.stepAfter.startValue&&(a=o.stepAfter.startValue-i),n=i>o.thisStep.startValue?o.thisStep.step:!1!==o.stepBefore.step&&i-o.stepBefore.highestStep,100===e?a=null:0==e&&(n=null);var r=K.countStepDecimals();return null!==a&&!1!==a&&(a=+a.toFixed(r)),null!==n&&!1!==n&&(n=+n.toFixed(r)),[n,a]}))},on:y,off:function(e){var t=e&&e.split(".")[0],o=t&&e.substring(t.length);Object.keys(Y).forEach((function(e){var i=e.split(".")[0],a=e.substring(i.length);t&&t!==i||o&&o!==a||delete Y[e]}))},get:A,set:M,reset:function(e){M(o.start,e)},__moveHandles:function(e,t,o){C(e,t,H,o)},options:r,updateOptions:function(e,t){var i=A(),a=["margin","limit","padding","range","animate","snap","step","format"];a.forEach((function(t){void 0!==e[t]&&(r[t]=e[t])}));var n=I(r);a.forEach((function(t){void 0!==e[t]&&(o[t]=n[t])})),K=n.spectrum,o.margin=n.margin,o.limit=n.limit,o.padding=n.padding,o.pips&&f(o.pips),H=[],M(e.start||i,t)},target:q,removePips:p,pips:f},o.pips&&f(o.pips),o.tooltips&&(U=D.map((function(e,t){return!!o.tooltips[t]&&d(e.firstChild,o.cssClasses.tooltip)})),y("update",(function(e,t,i){if(U[t]){var a=e[t];!0!==o.tooltips[t]&&(a=o.tooltips[t].to(i[t])),U[t].innerHTML=a}}))),y("update",(function(e,t,i,a,n){V.forEach((function(e){var t=D[e],a=w(H,e,0,!0,!0,!0),r=w(H,e,100,!0,!0,!0),s=n[e],l=o.ariaFormat.to(i[e]);a=K.fromStepping(a).toFixed(1),r=K.fromStepping(r).toFixed(1),s=K.fromStepping(s).toFixed(1),t.children[0].setAttribute("aria-valuemin",a),t.children[0].setAttribute("aria-valuemax",r),t.children[0].setAttribute("aria-valuenow",s),t.children[0].setAttribute("aria-valuetext",l)}))})),N}h.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&0!=e/t%1)throw new Error("noUiSlider (12.0.0): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&u(this.xVal,e)},h.prototype.toStepping=function(e){return function(e,t,o){if(o>=e.slice(-1)[0])return 100;var i,a,n=p(o,e),r=e[n-1],s=e[n],l=t[n-1],c=t[n];return l+(a=o,u(i=[r,s],0>i[0]?a+Math.abs(i[0]):a-i[0])/d(l,c))}(this.xVal,this.xPct,e)},h.prototype.fromStepping=function(e){return function(e,t,o){if(100<=o)return e.slice(-1)[0];var i,a=p(o,t),n=e[a-1],r=e[a],s=t[a-1];return i=[n,r],(o-s)*d(s,t[a])*(i[1]-i[0])/100+i[0]}(this.xVal,this.xPct,e)},h.prototype.getStep=function(e){return function(e,t,o,i){if(100===i)return i;var a,n,r=p(i,e),s=e[r-1],l=e[r];return o?(l-s)/2<i-s?l:s:t[r-1]?e[r-1]+(a=i-e[r-1],n=t[r-1],Math.round(a/n)*n):i}(this.xPct,this.xSteps,this.snap,e)},h.prototype.getNearbySteps=function(e){var t=p(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},h.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(r);return Math.max.apply(null,e)},h.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var z={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{__spectrum:h,version:"12.0.0",create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider (12.0.0): create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider (12.0.0): Slider was already initialized.");var o=F(e,I(t),t);return e.noUiSlider=o}}})),function(e){function t(i){if(o[i])return o[i].exports;var a=o[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var a in e)t.d(i,a,function(t){return e[t]}.bind(null,a));return i},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}o(1),o(7),o(8);var a=i(o(2)),n=i(o(3)),r=i(o(4));n.default===r.default&&o(9),window.Inputmask=a.default},function(e,t,o){"use strict";var i,a,n;"function"==typeof Symbol&&Symbol.iterator,a=[o(2)],void 0===(n="function"==typeof(i=function(e){return e.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),e.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,o){return-1<o-1&&"."!==t.buffer[o-1]?(e=t.buffer[o-1]+e,e=-1<o-2&&"."!==t.buffer[o-2]?t.buffer[o-2]+e:"0"+e):e="00"+e,/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/.test(e)}}},onUnMask:function(e){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(e){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(e){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),e})?i.apply(t,a):i)||(e.exports=n)},function(e,t,o){"use strict";var i,a,n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){a=[o(3),o(5),o(6)],void 0===(n="function"==typeof(i=r)?i.apply(t,a):i)||(e.exports=n)}((function(e,t,o){function i(t,o,n){return this instanceof i?(this.el=void 0,this.events={},this.maskset=void 0,this.refreshValue=!1,void(!0!==n&&(e.isPlainObject(t)?o=t:(o=o||{},t&&(o.alias=t)),this.opts=e.extend(!0,{},this.defaults,o),this.noMasksCache=o&&void 0!==o.definitions,this.userOptions=o||{},this.isRTL=this.opts.numericInput,a(this.opts.alias,o,this.opts)))):new i(t,o,n)}function a(t,o,n){var r=i.prototype.aliases[t];return r?(r.alias&&a(r.alias,void 0,n),e.extend(!0,n,r),e.extend(!0,n,o),!0):(null===n.mask&&(n.mask=t),!1)}function n(t,o){function a(t,a,n){var r=!1;if((null===t||""===t)&&((r=null!==n.regex)?t=(t=n.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(r=!0,t=".*")),1===t.length&&!1===n.greedy&&0!==n.repeat&&(n.placeholder=""),0<n.repeat||"*"===n.repeat||"+"===n.repeat){var s="*"===n.repeat?0:"+"===n.repeat?1:n.repeat;t=n.groupmarker[0]+t+n.groupmarker[1]+n.quantifiermarker[0]+s+","+n.repeat+n.quantifiermarker[1]}var l,c=r?"regex_"+n.regex:n.numericInput?t.split("").reverse().join(""):t;return void 0===i.prototype.masksCache[c]||!0===o?(l={mask:t,maskToken:i.prototype.analyseMask(t,r,n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:a,maskLength:void 0},!0!==o&&(i.prototype.masksCache[c]=l,l=e.extend(!0,{},i.prototype.masksCache[c]))):l=e.extend(!0,{},i.prototype.masksCache[c]),l}if(e.isFunction(t.mask)&&(t.mask=t.mask(t)),e.isArray(t.mask)){if(1<t.mask.length){if(null===t.keepStatic){t.keepStatic="auto";for(var n=0;n<t.mask.length;n++)if(t.mask[n].charAt(0)!==t.mask[0].charAt(0)){t.keepStatic=!0;break}}var r=t.groupmarker[0];return e.each(t.isRTL?t.mask.reverse():t.mask,(function(o,i){1<r.length&&(r+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),r+=void 0===i.mask||e.isFunction(i.mask)?i:i.mask})),a(r+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return t.mask&&void 0!==t.mask.mask&&!e.isFunction(t.mask.mask)?a(t.mask.mask,t.mask,t):a(t.mask,t.mask,t)}function s(e){var t=o.createElement("input"),i="on"+e,a=i in t;return a||(t.setAttribute(i,"return;"),a="function"==typeof t[i]),t=null,a}function l(a,n,c){function f(e,t,o,i,a){var n=c.greedy;a&&(c.greedy=!1),t=t||0;var r,s,l,d=[],u=0;v();do{if(!0===e&&m().validPositions[u])s=(l=a&&!0===m().validPositions[u].match.optionality&&void 0===m().validPositions[u+1]&&(!0===m().validPositions[u].generatedInput||m().validPositions[u].input==c.skipOptionalPartCharacter&&0<u)?k(u,x(u,r,u-1)):m().validPositions[u]).match,r=l.locator.slice(),d.push(!0===o?l.input:!1===o?s.nativeDef:I(u,s));else{s=(l=b(u,r,u-1)).match,r=l.locator.slice();var p=!0!==i&&(!1===c.jitMasking?s.jit:c.jitMasking);(!1===p||void 0===p||"number"==typeof p&&isFinite(p)&&p>u)&&d.push(!1===o?s.nativeDef:I(u,s))}"auto"===c.keepStatic&&s.newBlockMarker&&null!==s.fn&&(c.keepStatic=u-1),u++}while((void 0===Q||u<Q)&&(null!==s.fn||""!==s.def)||t>u);return""===d[d.length-1]&&d.pop(),(!1!==o||void 0===m().maskLength)&&(m().maskLength=u-1),c.greedy=n,d}function m(){return n}function h(e){var t=m();t.buffer=void 0,!0!==e&&(t.validPositions={},t.p=0)}function v(e,t,o){var i=-1,a=-1,n=o||m().validPositions;for(var r in void 0===e&&(e=-1),n){var s=parseInt(r);n[s]&&(t||!0!==n[s].generatedInput)&&(s<=e&&(i=s),s>=e&&(a=s))}return-1===i||i==e?a:-1==a||e-i<a-e?i:a}function g(e){var t=e.locator[e.alternation];return"string"==typeof t&&0<t.length&&(t=t.split(",")[0]),void 0===t?"":t.toString()}function _(e,t){var o=(null==e.alternation?e.locator:e.mloc[g(e)]).join("");if(""!==o)for(;o.length<t;)o+="0";return o}function k(e,t){for(var o,i,a,n,r=_(y(e=0<e?e-1:0)),s=0;s<t.length;s++){o=_(n=t[s],r.length);var l=Math.abs(o-r);(void 0===i||""!==o&&l<i||a&&a.match.optionality&&"master"===a.match.newBlockMarker&&(!n.match.optionality||!n.match.newBlockMarker)||a&&a.match.optionalQuantifier&&!n.match.optionalQuantifier)&&(i=l,a=n)}return a}function b(e,t,o){return m().validPositions[e]||k(e,x(e,t?t.slice():t,o))}function y(e,t){return m().validPositions[e]?m().validPositions[e]:(t||x(e))[0]}function $(e,t){for(var o=!1,i=x(e),a=0;a<i.length;a++)if(i[a].match&&i[a].match.def===t){o=!0;break}return o}function x(t,o,i){function a(o,i,r,l){function h(r,l,v){function g(t,o){var i=0===e.inArray(t,o.matches);return i||e.each(o.matches,(function(e,a){if(!0===a.isQuantifier?i=g(t,o.matches[e-1]):a.hasOwnProperty("matches")&&(i=g(t,a)),i)return!1})),i}function _(t,o,i){var a,n;if((m().tests[t]||m().validPositions[t])&&e.each(m().tests[t]||[m().validPositions[t]],(function(e,t){if(t.mloc[o])return a=t,!1;var r=void 0===i?t.alternation:i,s=void 0===t.locator[r]?-1:t.locator[r].toString().indexOf(o);(void 0===n||s<n)&&-1!==s&&(a=t,n=s)})),a){var r=a.locator[a.alternation];return(a.mloc[o]||a.mloc[r]||a.locator).slice((void 0===i?a.alternation:i)+1)}return void 0===i?void 0:_(t,o)}function k(e,t){function o(e){for(var t,o,i=[],a=0,n=e.length;a<n;a++)if("-"===e.charAt(a))for(o=e.charCodeAt(a+1);++t<o;)i.push(String.fromCharCode(t));else t=e.charCodeAt(a),i.push(e.charAt(a));return i.join("")}return c.regex&&null!==e.match.fn&&null!==t.match.fn?-1!==o(t.match.def.replace(/[\[\]]/g,"")).indexOf(o(e.match.def.replace(/[\[\]]/g,""))):e.match.def===t.match.nativeDef}function b(e,o){return!(e.locator.slice(e.alternation).join("")!=o.locator.slice(o.alternation).join("")||null!==e.match.fn||null===o.match.fn)&&o.match.fn.test(e.match.def,m(),t,!1,c,!1)}function y(e,t){if(void 0===t||e.alternation===t.alternation&&-1===e.locator[e.alternation].toString().indexOf(t.locator[t.alternation])){e.mloc=e.mloc||{};var o=e.locator[e.alternation];if(void 0!==o){if("string"==typeof o&&(o=o.split(",")[0]),void 0===e.mloc[o]&&(e.mloc[o]=e.locator.slice()),void 0!==t){for(var i in t.mloc)"string"==typeof i&&(i=i.split(",")[0]),void 0===e.mloc[i]&&(e.mloc[i]=t.mloc[i]);e.locator[e.alternation]=Object.keys(e.mloc).join(",")}return!0}e.alternation=void 0}return!1}if(500<s&&void 0!==v)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+m().mask;if(s===t&&void 0===r.matches)return d.push({match:r,locator:l.reverse(),cd:p,mloc:{}}),!0;if(void 0===r.matches)s++;else if(r.isGroup&&v!==r){if(r=h(o.matches[e.inArray(r,o.matches)+1],l,v))return!0}else if(r.isOptional){var $=r;if(r=a(r,i,l,v)){if(e.each(d,(function(e,t){t.match.optionality=!0})),n=d[d.length-1].match,void 0!==v||!g(n,$))return!0;u=!0,s=t}}else if(r.isAlternator){var x,w=r,S=[],C=d.slice(),T=l.length,E=0<i.length?i.shift():-1;if(-1===E||"string"==typeof E){var P,O=s,M=i.slice(),A=[];if("string"==typeof E)A=E.split(",");else for(P=0;P<w.matches.length;P++)A.push(P.toString());if(m().excludes[t]){for(var j=A.slice(),D=0,L=m().excludes[t].length;D<L;D++)A.splice(A.indexOf(m().excludes[t][D].toString()),1);0===A.length&&(m().excludes[t]=void 0,A=j)}(!0===c.keepStatic||isFinite(parseInt(c.keepStatic))&&O>=c.keepStatic)&&(A=A.slice(0,1));for(var N=!1,I=0;I<A.length;I++){P=parseInt(A[I]),d=[],i="string"==typeof E&&_(s,P,T)||M.slice(),w.matches[P]&&h(w.matches[P],[P].concat(l),v)?r=!0:0===I&&(N=!0),x=d.slice(),s=O,d=[];for(var F=0;F<x.length;F++){var z=x[F],R=!1;z.match.jit=z.match.jit||N,z.alternation=z.alternation||T,y(z);for(var U,B=0;B<S.length;B++)if(U=S[B],"string"!=typeof E||void 0!==z.alternation&&-1!==e.inArray(z.locator[z.alternation].toString(),A)){if(z.match.nativeDef===U.match.nativeDef){R=!0,y(U,z);break}if(k(z,U)){y(z,U)&&(R=!0,S.splice(S.indexOf(U),0,z));break}if(k(U,z)){y(U,z);break}if(b(z,U)){y(z,U)&&(R=!0,S.splice(S.indexOf(U),0,z));break}}R||S.push(z)}}d=C.concat(S),s=t,u=0<d.length,r=0<S.length,i=M.slice()}else r=h(w.matches[E]||o.matches[E],[E].concat(l),v);if(r)return!0}else if(r.isQuantifier&&v!==o.matches[e.inArray(r,o.matches)-1]){for(var G,q=r,H=0<i.length?i.shift():0;H<(isNaN(q.quantifier.max)?H+1:q.quantifier.max)&&s<=t;H++)if(r=h(G=o.matches[e.inArray(q,o.matches)-1],[H].concat(l),G)){if((n=d[d.length-1].match).optionalQuantifier=H>q.quantifier.min-1,n.jit=(H||1)*G.matches.indexOf(n)>=q.quantifier.jit,n.optionalQuantifier&&g(n,G)){u=!0,s=t;break}if(n.jit&&!n.optionalQuantifier){f=G.matches.indexOf(n),s=t,u=!0;break}return!0}}else if(r=a(r,i,l,v))return!0}for(var v=0<i.length?i.shift():0;v<o.matches.length;v=v+1+f)if(f=0,!0!==o.matches[v].isQuantifier){var g=h(o.matches[v],[v].concat(r),l);if(g&&s===t)return g;if(s>t)break}}var n,r=m().maskToken,s=o?i:0,l=o?o.slice():[0],d=[],u=!1,p=o?o.join(""):"",f=0;if(-1<t){if(void 0===o){for(var h,v=t-1;void 0===(h=m().validPositions[v]||m().tests[v])&&-1<v;)v--;void 0!==h&&-1<v&&(l=function(t,o){var i=[];return e.isArray(o)||(o=[o]),0<o.length&&(void 0===o[0].alternation?0===(i=k(t,o.slice()).locator.slice()).length&&(i=o[0].locator.slice()):e.each(o,(function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var o=0;o<i.length;o++)t.locator[o]&&-1===i[o].toString().indexOf(t.locator[o])&&(i[o]+=","+t.locator[o])}))),i}(v,h),p=l.join(""),s=v)}if(m().tests[t]&&m().tests[t][0].cd===p)return m().tests[t];for(var g=l.shift();g<r.length&&!(a(r[g],l,[g])&&s===t||s>t);g++);}return(0===d.length||u)&&d.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:p}),void 0!==o&&m().tests[t]?e.extend(!0,[],d):(m().tests[t]=e.extend(!0,[],d),m().tests[t])}function w(){return void 0===m()._buffer&&(m()._buffer=f(!1,1),void 0===m().buffer&&(m().buffer=m()._buffer.slice())),m()._buffer}function S(e){return(void 0===m().buffer||!0===e)&&(m().buffer=f(!0,v(),!0)),m().buffer}function C(e,t,o){var i,a;if(!0===e)h(),e=0,t=o.length;else for(i=e;i<t;i++)delete m().validPositions[i];for(a=e,i=e;i<t;i++)if(h(!0),o[i]!==c.skipOptionalPartCharacter){var n=O(a,o[i],!0,!0);!1!==n&&(h(!0),a=void 0===n.caret?n.pos+1:n.caret)}}function T(t,o,a){switch(c.casing||o.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var n=m().validPositions[a-1];t=0===a||n&&n.input===String.fromCharCode(i.keyCode.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(e.isFunction(c.casing)){var r=Array.prototype.slice.call(arguments);r.push(m().validPositions),t=c.casing.apply(this,r)}}return t}function E(t,o,i){for(var a,n=c.greedy?o:o.slice(0,1),r=!1,s=void 0===i?[]:i.split(","),l=0;l<s.length;l++)-1!==(a=t.indexOf(s[l]))&&t.splice(a,1);for(var d=0;d<t.length;d++)if(-1!==e.inArray(t[d],n)){r=!0;break}return r}function P(t,o,i,a,n){var r,s,l,c,d,u,p,f=e.extend(!0,{},m().validPositions),_=!1,k=void 0===n?v():n;if(-1===k&&void 0===n)s=(c=y(r=0)).alternation;else for(;0<=k;k--)if((l=m().validPositions[k])&&void 0!==l.alternation){if(c&&c.locator[l.alternation]!==l.locator[l.alternation])break;r=k,s=m().validPositions[r].alternation,c=l}if(void 0!==s){p=parseInt(r),m().excludes[p]=m().excludes[p]||[],!0!==t&&m().excludes[p].push(g(c));var b=[],$=0;for(d=p;d<v(void 0,!0)+1;d++)(u=m().validPositions[d])&&!0!==u.generatedInput?b.push(u.input):d<t&&$++,delete m().validPositions[d];for(;m().excludes[p]&&10>m().excludes[p].length;){var x=-1*$,w=b.slice();for(m().tests[p]=void 0,h(!0),_=!0;0<w.length;){var S=w.shift();if(!(_=O(v(void 0,!0)+1,S,!1,a,!0)))break}if(_&&void 0!==o){var C=v(t)+1;for(d=p;d<v()+1;d++)(void 0===(u=m().validPositions[d])||null==u.match.fn)&&d<t+x&&x++;_=O((t+=x)>C?C:t,o,i,a,!0)}if(_)break;if(h(),c=y(p),m().validPositions=e.extend(!0,{},f),!m().excludes[p]){_=P(t,o,i,a,p-1);break}var T=g(c);if(-1!==m().excludes[p].indexOf(T)){_=P(t,o,i,a,p-1);break}for(m().excludes[p].push(T),d=p;d<v(void 0,!0)+1;d++)delete m().validPositions[d]}}return m().excludes[p]=void 0,_}function O(t,o,i,a,n,r){function s(e){return ee?1<e.begin-e.end||1==e.begin-e.end:1<e.end-e.begin||1==e.end-e.begin}function l(o,i,n){var r=!1;return e.each(x(o),(function(l,d){var u=d.match;if(S(!0),!1!==(r=null==u.fn?(i===u.def||i===c.skipOptionalPartCharacter)&&""!==u.def&&{c:I(o,u,!0)||u.def,pos:o}:u.fn.test(i,m(),o,n,c,s(t)))){var p=void 0===r.c?i:r.c,f=o;return p=p===c.skipOptionalPartCharacter&&null===u.fn?I(o,u,!0)||u.def:p,void 0!==r.remove&&(!e.isArray(r.remove)&&(r.remove=[r.remove]),e.each(r.remove.sort((function(e,t){return t-e})),(function(e,t){A({begin:t,end:t+1})}))),void 0!==r.insert&&(!e.isArray(r.insert)&&(r.insert=[r.insert]),e.each(r.insert.sort((function(e,t){return e-t})),(function(e,t){O(t.pos,t.c,!0,a)}))),!0!==r&&void 0!==r.pos&&r.pos!==o&&(f=r.pos),(!0===r||void 0!==r.pos||void 0!==r.c)&&(A(t,e.extend({},d,{input:T(p,u,f)}),a,f)||(r=!1),!1)}})),r}i=!0===i;var d=t;void 0!==t.begin&&(d=ee?t.end:t.begin);var u=!0,p=e.extend(!0,{},m().validPositions);if(e.isFunction(c.preValidation)&&!i&&!0!==a&&!0!==r&&(u=c.preValidation(S(),d,o,s(t),c,m())),!0===u){if(M(void 0,d,!0),(void 0===Q||d<Q)&&(u=l(d,o,i),(!i||!0===a)&&!1===u&&!0!==r)){var f=m().validPositions[d];if(!f||null!==f.match.fn||f.match.def!==o&&o!==c.skipOptionalPartCharacter){if((c.insertMode||void 0===m().validPositions[D(d)])&&!j(d,!0))for(var v=d+1,g=D(d);v<=g;v++)if(!1!==(u=l(v,o,i))){u=M(d,void 0===u.pos?v:u.pos)||u,d=v;break}}else u={caret:D(d)}}!1===u&&!1!==c.keepStatic&&(null==c.regex||G(S()))&&!i&&!0!==n&&(u=P(d,o,i,a)),!0===u&&(u={pos:d})}if(e.isFunction(c.postValidation)&&!1!==u&&!i&&!0!==a&&!0!==r){var _=c.postValidation(S(!0),void 0===t.begin?t:ee?t.end:t.begin,u,c);if(void 0!==_){if(_.refreshFromBuffer&&_.buffer){var k=_.refreshFromBuffer;C(!0===k?k:k.start,k.end,_.buffer)}u=!0===_?u:_}}return u&&void 0===u.pos&&(u.pos=d),(!1===u||!0===r)&&(h(!0),m().validPositions=e.extend(!0,{},p)),u}function M(t,o,i){var a;if(void 0===t)for(t=o-1;0<t&&!m().validPositions[t];t--);for(var n=t;n<o;n++)if(void 0===m().validPositions[n]&&!j(n,!0)&&(0==n?y(n):m().validPositions[n-1])){var r=x(n).slice();""===r[r.length-1].match.def&&r.pop();var s=k(n,r);if((s=e.extend({},s,{input:I(n,s.match,!0)||s.match.def})).generatedInput=!0,A(n,s,!0),!0!==i){var l=m().validPositions[o].input;m().validPositions[o]=void 0,a=O(o,l,!0,!0)}}return a}function A(t,o,i,a){function n(e,t,o){var i=t[e];if(void 0!==i&&(null===i.match.fn&&!0!==i.match.optionality||i.input===c.radixPoint)){var a=o.begin<=e-1?t[e-1]&&null===t[e-1].match.fn&&t[e-1]:t[e-1],n=o.end>e+1?t[e+1]&&null===t[e+1].match.fn&&t[e+1]:t[e+1];return a&&n}return!1}var r=void 0===t.begin?t:t.begin,s=void 0===t.end?t:t.end;if(t.begin>t.end&&(r=t.end,s=t.begin),a=void 0===a?r:a,r!==s||c.insertMode&&void 0!==m().validPositions[a]&&void 0===i){var l=e.extend(!0,{},m().validPositions),d=v(void 0,!0);for(m().p=r,_=d;_>=r;_--)m().validPositions[_]&&"+"===m().validPositions[_].match.nativeDef&&(c.isNegative=!1),delete m().validPositions[_];var u=!0,p=a,f=(m().validPositions,!1),g=p,_=p;for(o&&(m().validPositions[a]=e.extend(!0,{},o),g++,p++,r<s&&_++);_<=d;_++){var k=l[_];if(void 0!==k&&(_>=s||_>=r&&!0!==k.generatedInput&&n(_,l,{begin:r,end:s}))){for(;""!==y(g).match.def;){if(!1===f&&l[g]&&l[g].match.nativeDef===k.match.nativeDef)m().validPositions[g]=e.extend(!0,{},l[g]),m().validPositions[g].input=k.input,M(void 0,g,!0),p=g+1,u=!0;else if($(g,k.match.def)){var b=O(g,k.input,!0,!0);u=!1!==b,p=b.caret||b.insert?v():g+1,f=!0}else u=!0===k.generatedInput||k.input===c.radixPoint&&!0===c.numericInput;if(u)break;if(!u&&g>s&&j(g,!0)&&(null!==k.match.fn||g>m().maskLength))break;g++}""==y(g).match.def&&(u=!1),g=p}if(!u)break}if(!u)return m().validPositions=e.extend(!0,{},l),h(!0),!1}else o&&(m().validPositions[a]=e.extend(!0,{},o));return h(!0),!0}function j(e,t){var o=b(e).match;if(""===o.def&&(o=y(e).match),null!=o.fn)return o.fn;if(!0!==t&&-1<e){var i=x(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function D(e,t){for(var o=e+1;""!==y(o).match.def&&(!0===t&&(!0!==y(o).match.newBlockMarker||!j(o))||!0!==t&&!j(o));)o++;return o}function L(e,t){var o,i=e;if(0>=i)return 0;for(;0<--i&&(!0===t&&!0!==y(i).match.newBlockMarker||!0!==t&&!j(i)&&(2>(o=x(i)).length||2===o.length&&""===o[1].match.def)););return i}function N(t,o,i,a,n){if(a&&e.isFunction(c.onBeforeWrite)){var r=c.onBeforeWrite.call(Z,a,o,i,c);if(r){if(r.refreshFromBuffer){var s=r.refreshFromBuffer;C(!0===s?s:s.start,s.end,r.buffer||o),o=S(!0)}void 0!==i&&(i=void 0===r.caret?i:r.caret)}}if(void 0!==t&&(t.inputmask._valueSet(o.join("")),void 0===i||void 0!==a&&"blur"===a.type?V(t,i,0===o.length):R(t,i),!0===n)){var l=e(t),d=t.inputmask._valueGet();oe=!0,l.trigger("input"),setTimeout((function(){d===w().join("")?l.trigger("cleared"):!0===G(o)&&l.trigger("complete")}),0)}}function I(t,o,i){if(void 0!==(o=o||y(t).match).placeholder||!0===i)return e.isFunction(o.placeholder)?o.placeholder(c):o.placeholder;if(null===o.fn){if(-1<t&&void 0===m().validPositions[t]){var a,n=x(t),r=[];if(n.length>1+(""===n[n.length-1].match.def?1:0))for(var s=0;s<n.length;s++)if(!0!==n[s].match.optionality&&!0!==n[s].match.optionalQuantifier&&(null===n[s].match.fn||void 0===a||!1!==n[s].match.fn.test(a.match.def,m(),t,!0,c))&&(r.push(n[s]),null===n[s].match.fn&&(a=n[s]),1<r.length&&/[0-9a-bA-Z]/.test(r[0].match.def)))return c.placeholder.charAt(t%c.placeholder.length)}return o.def}return c.placeholder.charAt(t%c.placeholder.length)}function F(t,o,a,n,r){var s,l=this||t.inputmask,d=n.slice(),u="",p=-1;if(h(),a||!0===c.autoUnmask)p=D(p);else{var g=w().slice(0,D(-1)).join(""),_=d.join("").match(new RegExp("^"+i.escapeRegex(g),"g"));_&&0<_.length&&(d.splice(0,_.length*g.length),p=D(p))}-1===p?(m().p=D(p),p=0):m().p=p,l.caretPos={begin:p},e.each(d,(function(o,i){if(void 0!==i)if(void 0===m().validPositions[o]&&d[o]===I(o)&&j(o,!0)&&!1===O(o,d[o],!0,void 0,void 0,!0))m().p++;else{var n=new e.Event("_checkval");n.which=i.charCodeAt(0),u+=i;var r=v(void 0,!0);!function(e,t){return-1!==f(!0,0,!1).slice(e,D(e)).join("").replace(/'/g,"").indexOf(t)&&!j(e)&&(y(e).match.nativeDef===t.charAt(0)||null===y(e).match.fn&&y(e).match.nativeDef==="'"+t.charAt(0)||" "===y(e).match.nativeDef&&(y(e+1).match.nativeDef===t.charAt(0)||null===y(e+1).match.fn&&y(e+1).match.nativeDef==="'"+t.charAt(0)))}(p,u)?(s=se.keypressEvent.call(t,n,!0,!1,a,l.caretPos.begin))&&(p=l.caretPos.begin+1,u=""):s=se.keypressEvent.call(t,n,!0,!1,a,r+1),s&&(N(void 0,S(),s.forwardPosition,n,!1),l.caretPos={begin:s.forwardPosition,end:s.forwardPosition})}})),o&&N(t,S(),s?s.forwardPosition:void 0,r||new e.Event("checkval"),r&&"input"===r.type)}function z(t){if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&se.setValueEvent.call(t)}var o=[],i=m().validPositions;for(var a in i)i[a].match&&null!=i[a].match.fn&&o.push(i[a].input);var n=0===o.length?"":(ee?o.reverse():o).join("");if(e.isFunction(c.onUnMask)){var r=(ee?S().slice().reverse():S()).join("");n=c.onUnMask.call(Z,r,n,c)}return n}function R(i,a,n,r){function s(e){return ee&&"number"==typeof e&&(!c.greedy||""!==c.placeholder)&&X&&(e=X.inputmask._valueGet().length-e),e}var l;if(void 0===a)return"selectionStart"in i?(a=i.selectionStart,n=i.selectionEnd):t.getSelection?((l=t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode===i||l.commonAncestorContainer===i)&&(a=l.startOffset,n=l.endOffset):o.selection&&o.selection.createRange&&(n=(a=0-(l=o.selection.createRange()).duplicate().moveStart("character",-i.inputmask._valueGet().length))+l.text.length),{begin:r?a:s(a),end:r?n:s(n)};if(e.isArray(a)&&(n=ee?a[0]:a[1],a=ee?a[1]:a[0]),void 0!==a.begin&&(n=ee?a.begin:a.end,a=ee?a.end:a.begin),"number"==typeof a){a=r?a:s(a),n="number"==typeof(n=r?n:s(n))?n:a;var d=parseInt(((i.ownerDocument.defaultView||t).getComputedStyle?(i.ownerDocument.defaultView||t).getComputedStyle(i,null):i.currentStyle).fontSize)*n;if(i.scrollLeft=d>i.scrollWidth?d:0,i.inputmask.caretPos={begin:a,end:n},i===o.activeElement){if("selectionStart"in i)i.selectionStart=a,i.selectionEnd=n;else if(t.getSelection){if(l=o.createRange(),void 0===i.firstChild||null===i.firstChild){var u=o.createTextNode("");i.appendChild(u)}l.setStart(i.firstChild,a<i.inputmask._valueGet().length?a:i.inputmask._valueGet().length),l.setEnd(i.firstChild,n<i.inputmask._valueGet().length?n:i.inputmask._valueGet().length),l.collapse(!0);var p=t.getSelection();p.removeAllRanges(),p.addRange(l)}else i.createTextRange&&((l=i.createTextRange()).collapse(!0),l.moveEnd("character",n),l.moveStart("character",a),l.select());V(i,{begin:a,end:n})}}}function U(t){var o,i,a=f(!0,v(),!0,!0),n=a.length,r=v(),s={},l=m().validPositions[r],c=void 0===l?void 0:l.locator.slice();for(o=r+1;o<a.length;o++)c=(i=b(o,c,o-1)).locator.slice(),s[o]=e.extend(!0,{},i);var d=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(o=n-1;o>r&&((i=s[o]).match.optionality||i.match.optionalQuantifier&&i.match.newBlockMarker||d&&(d!==s[o].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&E(i.locator[l.alternation].toString().split(","),d.toString().split(","))&&""!==x(o)[0].def))&&a[o]===I(o,i.match);o--)n--;return t?{l:n,def:s[n]?s[n].match:void 0}:n}function B(e){e.length=0;for(var t,o=f(!0,0,!0,void 0,!0);void 0!==(t=o.shift());)e.push(t);return e}function G(t){if(e.isFunction(c.isComplete))return c.isComplete(t,c);if("*"!==c.repeat){var o=!1,i=U(!0),a=L(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){o=!0;for(var n,r=0;r<=a;r++)if(null!==(n=b(r).match).fn&&void 0===m().validPositions[r]&&!0!==n.optionality&&!0!==n.optionalQuantifier||null===n.fn&&t[r]!==I(r,n)){o=!1;break}}return o}}function q(e,t,o,a,n){if((c.numericInput||ee)&&(t===i.keyCode.BACKSPACE?t=i.keyCode.DELETE:t===i.keyCode.DELETE&&(t=i.keyCode.BACKSPACE),ee)){var r=o.end;o.end=o.begin,o.begin=r}if(t===i.keyCode.BACKSPACE&&1>o.end-o.begin?(o.begin=L(o.begin),void 0!==m().validPositions[o.begin]&&m().validPositions[o.begin].input===c.groupSeparator&&o.begin--):t===i.keyCode.DELETE&&o.begin===o.end&&(o.end=j(o.end,!0)&&m().validPositions[o.end]&&m().validPositions[o.end].input!==c.radixPoint?o.end+1:D(o.end)+1,void 0!==m().validPositions[o.begin]&&m().validPositions[o.begin].input===c.groupSeparator&&o.end++),A(o),!0!==a&&!1!==c.keepStatic||null!==c.regex){var s=P(!0);if(s){var l=void 0===s.caret?s.pos?D(s.pos.begin?s.pos.begin:s.pos):v(-1,!0):s.caret;(t!==i.keyCode.DELETE||o.begin>l)&&o.begin}}var d=v(o.begin,!0);if(d<o.begin||-1===o.begin)m().p=D(d);else if(!0!==a&&(m().p=o.begin,!0!==n))for(;m().p<d&&void 0===m().validPositions[m().p];)m().p++}function H(i){var a=(i.ownerDocument.defaultView||t).getComputedStyle(i,null),n=o.createElement("div");n.style.width=a.width,n.style.textAlign=a.textAlign,Y=o.createElement("div"),i.inputmask.colorMask=Y,Y.className="im-colormask",i.parentNode.insertBefore(Y,i),i.parentNode.removeChild(i),Y.appendChild(i),Y.appendChild(n),i.style.left=n.offsetLeft+"px",e(Y).on("mouseleave",(function(e){return se.mouseleaveEvent.call(i,[e])})),e(Y).on("mouseenter",(function(e){return se.mouseenterEvent.call(i,[e])})),e(Y).on("click",(function(e){return R(i,function(e){var t,n=o.createElement("span");for(var r in a)isNaN(r)&&-1!==r.indexOf("font")&&(n.style[r]=a[r]);n.style.textTransform=a.textTransform,n.style.letterSpacing=a.letterSpacing,n.style.position="absolute",n.style.height="auto",n.style.width="auto",n.style.visibility="hidden",n.style.whiteSpace="nowrap",o.body.appendChild(n);var s,l=i.inputmask._valueGet(),c=0;for(t=0,s=l.length;t<=s;t++){if(n.innerHTML+=l.charAt(t)||"_",n.offsetWidth>=e){var d=e-c,u=n.offsetWidth-e;n.innerHTML=l.charAt(t),t=(d-=n.offsetWidth/3)<u?t-1:t;break}c=n.offsetWidth}return o.body.removeChild(n),t}(e.clientX)),se.clickEvent.call(i,[e])}))}function V(e,t,i){function a(e){if(void 0===e&&(e=""),d||null!==n.fn&&void 0!==r.input)if(d&&(null!==n.fn&&void 0!==r.input||""===n.def)){d=!1;var t=l.length;l[t-1]=l[t-1]+"</span>",l.push(e)}else l.push(e);else d=!0,l.push("<span class='im-static'>"+e)}var n,r,s,l=[],d=!1,u=0;if(void 0!==Y){var p=S();if(void 0===t?t=R(e):void 0===t.begin&&(t={begin:t,end:t}),!0!==i){var f=v();do{m().validPositions[u]?(r=m().validPositions[u],n=r.match,s=r.locator.slice(),a(p[u])):(r=b(u,s,u-1),n=r.match,s=r.locator.slice(),!1===c.jitMasking||u<f||"number"==typeof c.jitMasking&&isFinite(c.jitMasking)&&c.jitMasking>u?a(I(u,n)):d=!1),u++}while((void 0===Q||u<Q)&&(null!==n.fn||""!==n.def)||f>u||d);d&&a(),o.activeElement===e&&(l.splice(t.begin,0,t.begin===t.end||t.end>m().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),l.splice(t.end+1,0,"</mark>"))}var h=Y.getElementsByTagName("div")[0];h.innerHTML=l.join(""),e.inputmask.positionColorMask(e,h)}}n=n||this.maskset,c=c||this.opts;var W,K,Q,Y,J,Z=this,X=this.el,ee=this.isRTL,te=!1,oe=!1,ie=!1,ae=!1,ne="",re={on:function(t,o,a){var n=function(t){var o=this;if(void 0===o.inputmask&&"FORM"!==this.nodeName){var n=e.data(o,"_inputmask_opts");n?new i(n).mask(o):re.off(o)}else{if("setvalue"===t.type||"FORM"===this.nodeName||!(o.disabled||o.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||!1===c.tabThrough&&t.keyCode===i.keyCode.TAB))){switch(t.type){case"input":if(!0===oe)return oe=!1,t.preventDefault();if(d){var r=arguments;return setTimeout((function(){a.apply(o,r),R(o,o.inputmask.caretPos,void 0,!0)}),0),!1}break;case"keydown":te=!1,oe=!1;break;case"keypress":if(1==te)return t.preventDefault();te=!0;break;case"click":if(u||p)return r=arguments,setTimeout((function(){a.apply(o,r)}),0),!1}var s=a.apply(o,arguments);return!1===s&&(t.preventDefault(),t.stopPropagation()),s}t.preventDefault()}};t.inputmask.events[o]=t.inputmask.events[o]||[],t.inputmask.events[o].push(n),-1===e.inArray(o,["submit","reset"])?e(t).on(o,n):null!==t.form&&e(t.form).on(o,n)},off:function(t,o){var i;t.inputmask&&t.inputmask.events&&(o?(i=[])[o]=t.inputmask.events[o]:i=t.inputmask.events,e.each(i,(function(o,i){for(;0<i.length;){var a=i.pop();-1===e.inArray(o,["submit","reset"])?e(t).off(o,a):null!==t.form&&e(t.form).off(o,a)}delete t.inputmask.events[o]})))}},se={keydownEvent:function(t){var o=this,a=e(o),n=t.keyCode,r=R(o);if(n===i.keyCode.BACKSPACE||n===i.keyCode.DELETE||p&&n===i.keyCode.BACKSPACE_SAFARI||t.ctrlKey&&n===i.keyCode.X&&!s("cut"))t.preventDefault(),q(0,n,r),N(o,S(!0),m().p,t,o.inputmask._valueGet()!==S().join(""));else if(n===i.keyCode.END||n===i.keyCode.PAGE_DOWN){t.preventDefault();var l=D(v());R(o,t.shiftKey?r.begin:l,l,!0)}else n===i.keyCode.HOME&&!t.shiftKey||n===i.keyCode.PAGE_UP?(t.preventDefault(),R(o,0,t.shiftKey?r.begin:0,!0)):(c.undoOnEscape&&n===i.keyCode.ESCAPE||90===n&&t.ctrlKey)&&!0!==t.altKey?(F(o,!0,!1,W.split("")),a.trigger("click")):n!==i.keyCode.INSERT||t.shiftKey||t.ctrlKey?!0===c.tabThrough&&n===i.keyCode.TAB&&(!0===t.shiftKey?(null===y(r.begin).match.fn&&(r.begin=D(r.begin)),r.end=L(r.begin,!0),r.begin=L(r.end,!0)):(r.begin=D(r.begin,!0),r.end=D(r.begin,!0),r.end<m().maskLength&&r.end--),r.begin<m().maskLength&&(t.preventDefault(),R(o,r.begin,r.end))):(c.insertMode=!c.insertMode,o.setAttribute("im-insert",c.insertMode));c.onKeyDown.call(this,t,S(),R(o).begin,c),ie=-1!==e.inArray(n,c.ignorables)},keypressEvent:function(t,o,a,n,r){var s=this,l=e(s),d=t.which||t.charCode||t.keyCode;if(!0!==o&&(!t.ctrlKey||!t.altKey)&&(t.ctrlKey||t.metaKey||ie))return d===i.keyCode.ENTER&&W!==S().join("")&&(W=S().join(""),setTimeout((function(){l.trigger("change")}),0)),!0;if(d){46===d&&!1===t.shiftKey&&""!==c.radixPoint&&(d=c.radixPoint.charCodeAt(0));var u,p=o?{begin:r,end:r}:R(s),f=String.fromCharCode(d),v=0;if(c._radixDance&&c.numericInput){var g=S().indexOf(c.radixPoint.charAt(0))+1;p.begin<=g&&(d===c.radixPoint.charCodeAt(0)&&(v=1),p.begin-=1,p.end-=1)}m().writeOutBuffer=!0;var _=O(p,f,n);if(!1!==_&&(h(!0),u=void 0===_.caret?D(_.pos.begin?_.pos.begin:_.pos):_.caret,m().p=u),u=(c.numericInput&&void 0===_.caret?L(u):u)+v,!1!==a&&(setTimeout((function(){c.onKeyValidation.call(s,d,_,c)}),0),m().writeOutBuffer&&!1!==_)){var k=S();N(s,k,u,t,!0!==o)}if(t.preventDefault(),o)return!1!==_&&(_.forwardPosition=u),_}},pasteEvent:function(o){var i,a=this,n=o.originalEvent||o,r=(e(a),a.inputmask._valueGet(!0)),s=R(a);ee&&(i=s.end,s.end=s.begin,s.begin=i);var l=r.substr(0,s.begin),d=r.substr(s.end,r.length);if(l===(ee?w().reverse():w()).slice(0,s.begin).join("")&&(l=""),d===(ee?w().reverse():w()).slice(s.end).join("")&&(d=""),t.clipboardData&&t.clipboardData.getData)r=l+t.clipboardData.getData("Text")+d;else{if(!n.clipboardData||!n.clipboardData.getData)return!0;r=l+n.clipboardData.getData("text/plain")+d}var u=r;if(e.isFunction(c.onBeforePaste)){if(!1===(u=c.onBeforePaste.call(Z,r,c)))return o.preventDefault();u||(u=r)}return F(a,!1,!1,u.toString().split("")),N(a,S(),D(v()),o,W!==S().join("")),o.preventDefault()},inputFallBackEvent:function(t){var o=this,a=o.inputmask._valueGet();if(S().join("")!==a){var n=R(o);if(a=function(e,t,o){if(u){var i=t.replace(S().join(""),"");if(1===i.length){var a=t.split("");a.splice(o.begin,0,i),t=a.join("")}}return t}(0,a=function(e,t,o){return"."===t.charAt(o.begin-1)&&""!==c.radixPoint&&((t=t.split(""))[o.begin-1]=c.radixPoint.charAt(0),t=t.join("")),t}(0,a,n),n),S().join("")!==a){var r=S().join(""),s=!c.numericInput&&a.length>r.length?-1:0,l=a.substr(0,n.begin),d=a.substr(n.begin),p=r.substr(0,n.begin+s),f=r.substr(n.begin+s),m=n,h="",v=!1;if(l!==p){var g,_=(v=l.length>=p.length)?l.length:p.length;for(g=0;l.charAt(g)===p.charAt(g)&&g<_;g++);v&&(m.begin=g-s,h+=l.slice(g,m.end))}if(d!==f&&(d.length>f.length?h+=d.slice(0,1):d.length<f.length&&(m.end+=f.length-d.length,!v&&""!==c.radixPoint&&""===d&&l.charAt(m.begin+s-1)===c.radixPoint&&(m.begin--,h=c.radixPoint))),N(o,S(),{begin:m.begin+s,end:m.end+s}),0<h.length)e.each(h.split(""),(function(t,i){var a=new e.Event("keypress");a.which=i.charCodeAt(0),ie=!1,se.keypressEvent.call(o,a)}));else{m.begin===m.end-1&&(m.begin=L(m.begin+1),m.begin===m.end-1?R(o,m.begin):R(o,m.begin,m.end));var k=new e.Event("keydown");k.keyCode=c.numericInput?i.keyCode.BACKSPACE:i.keyCode.DELETE,se.keydownEvent.call(o,k)}t.preventDefault()}}},beforeInputEvent:function(t){if(t.cancelable){var o=this;switch(t.inputType){case"insertText":return e.each(t.data.split(""),(function(t,i){var a=new e.Event("keypress");a.which=i.charCodeAt(0),ie=!1,se.keypressEvent.call(o,a)})),t.preventDefault();case"deleteContentBackward":return(a=new e.Event("keydown")).keyCode=i.keyCode.BACKSPACE,se.keydownEvent.call(o,a),t.preventDefault();case"deleteContentForward":var a;return(a=new e.Event("keydown")).keyCode=i.keyCode.DELETE,se.keydownEvent.call(o,a),t.preventDefault()}}},setValueEvent:function(t){this.inputmask.refreshValue=!1;var o=this,i=(i=t&&t.detail?t.detail[0]:arguments[1])||o.inputmask._valueGet(!0);e.isFunction(c.onBeforeMask)&&(i=c.onBeforeMask.call(Z,i,c)||i),F(o,!0,!1,i=i.split("")),W=S().join(""),(c.clearMaskOnLostFocus||c.clearIncomplete)&&o.inputmask._valueGet()===w().join("")&&o.inputmask._valueSet("")},focusEvent:function(e){var t=this,o=t.inputmask._valueGet();c.showMaskOnFocus&&(!c.showMaskOnHover||c.showMaskOnHover&&""===o)&&(t.inputmask._valueGet()===S().join("")?!1===ae&&R(t,D(v())):N(t,S(),D(v()))),!0===c.positionCaretOnTab&&!1===ae&&se.clickEvent.apply(t,[e,!0]),W=S().join("")},mouseleaveEvent:function(){ae=!1,c.clearMaskOnLostFocus&&o.activeElement!==this&&(this.placeholder=ne)},clickEvent:function(t,i){function a(t){if(""!==c.radixPoint){var o=m().validPositions;if(void 0===o[t]||o[t].input===I(t)){if(t<D(-1))return!0;var i=e.inArray(c.radixPoint,S());if(-1!==i){for(var a in o)if(i<a&&o[a].input!==I(a))return!1;return!0}}}return!1}var n=this;setTimeout((function(){if(o.activeElement===n){var e=R(n);if(i&&(ee?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(c.positionCaretOnClick){case"none":break;case"select":R(n,0,S().length);break;case"ignore":R(n,D(v()));break;case"radixFocus":if(a(e.begin)){var t=S().join("").indexOf(c.radixPoint);R(n,c.numericInput?D(t):t);break}default:var r=e.begin,s=v(r,!0),l=D(s);if(r<l)R(n,j(r,!0)||j(r-1,!0)?r:D(r));else{var d=m().validPositions[s],u=b(l,d?d.match.locator:void 0,d),p=I(l,u.match);if(""!==p&&S()[l]!==p&&!0!==u.match.optionalQuantifier&&!0!==u.match.newBlockMarker||!j(l,c.keepStatic)&&u.match.def===p){var f=D(l);(r>=f||r===l)&&(l=f)}R(n,l)}}}}),0)},cutEvent:function(a){var n=this,r=(e(n),R(n)),s=a.originalEvent||a,l=t.clipboardData||s.clipboardData,c=ee?S().slice(r.end,r.begin):S().slice(r.begin,r.end);l.setData("text",ee?c.reverse().join(""):c.join("")),o.execCommand&&o.execCommand("copy"),q(0,i.keyCode.DELETE,r),N(n,S(),m().p,a,W!==S().join(""))},blurEvent:function(t){var o=e(this),i=this;if(i.inputmask){i.placeholder=ne;var a=i.inputmask._valueGet(),n=S().slice();(""!==a||void 0!==Y)&&(c.clearMaskOnLostFocus&&(-1===v()&&a===w().join("")?n=[]:B(n)),!1===G(n)&&(setTimeout((function(){o.trigger("incomplete")}),0),c.clearIncomplete&&(h(),n=c.clearMaskOnLostFocus?[]:w().slice())),N(i,n,void 0,t)),W!==S().join("")&&(W=n.join(""),o.trigger("change"))}},mouseenterEvent:function(){ae=!0,o.activeElement!==this&&c.showMaskOnHover&&(this.placeholder=(ee?S().slice().reverse():S()).join(""))},submitEvent:function(){W!==S().join("")&&K.trigger("change"),c.clearMaskOnLostFocus&&-1===v()&&X.inputmask._valueGet&&X.inputmask._valueGet()===w().join("")&&X.inputmask._valueSet(""),c.clearIncomplete&&!1===G(S())&&X.inputmask._valueSet(""),c.removeMaskOnSubmit&&(X.inputmask._valueSet(X.inputmask.unmaskedvalue(),!0),setTimeout((function(){N(X,S())}),0))},resetEvent:function(){X.inputmask.refreshValue=!0,setTimeout((function(){K.trigger("setvalue")}),0)}};if(i.prototype.positionColorMask=function(e,t){e.style.left=t.offsetLeft+"px"},void 0!==a)switch(a.action){case"isComplete":return X=a.el,G(S());case"unmaskedvalue":return(void 0===X||void 0!==a.value)&&(J=a.value,J=(e.isFunction(c.onBeforeMask)&&c.onBeforeMask.call(Z,J,c)||J).split(""),F.call(this,void 0,!1,!1,J),e.isFunction(c.onBeforeWrite)&&c.onBeforeWrite.call(Z,void 0,S(),0,c)),z(X);case"mask":!function(t){re.off(t);var i=function(t,i){var a=t.getAttribute("type"),n="INPUT"===t.tagName&&-1!==e.inArray(a,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!n)if("INPUT"===t.tagName){var s=o.createElement("input");s.setAttribute("type",a),n="text"===s.type,s=null}else n="partial";return!1===n?t.inputmask=void 0:function(t){function a(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==v()||!0!==i.nullable?o.activeElement===this&&i.clearMaskOnLostFocus?(ee?B(S().slice()).reverse():B(S().slice())).join(""):s.call(this):"":s.call(this)}function n(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue",[t])}var s,l;if(!t.inputmask.__valueGet){if(!0!==i.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===r("test".__proto__)?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;c&&c.get&&c.set?(s=c.get,l=c.set,Object.defineProperty(t,"value",{get:a,set:n,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:a,set:n,configurable:!0}))}else o.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",a),t.__defineSetter__("value",n));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return ee&&!0!==e?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null==e?"":!0!==t&&ee?e.split("").reverse().join(""):e)},void 0===s&&(s=function(){return this.value},l=function(e){this.value=e},function(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var o=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=o(e);return-1!==v(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==i.nullable?t:""}return o(e)},set:function(t,o){var i,n=e(t);return i=a(t,o),t.inputmask&&n.trigger("setvalue",[o]),i},inputmaskpatch:!0}}}(t.type),function(t){re.on(t,"mouseenter",(function(){var t=e(this);this.inputmask._valueGet()!==S().join("")&&t.trigger("setvalue")}))}(t))}}(t),n}(t,c);if(!1!==i&&(K=e(X=t),ne=X.placeholder,-1===(Q=void 0===X?void 0:X.maxLength)&&(Q=void 0),!0===c.colorMask&&H(X),d&&("inputmode"in X&&(X.inputmode=c.inputmode,X.setAttribute("inputmode",c.inputmode)),!0===c.disablePredictiveText&&("autocorrect"in X?X.autocorrect=!1:(!0!==c.colorMask&&H(X),X.type="password"))),!0===i&&(X.setAttribute("im-insert",c.insertMode),re.on(X,"submit",se.submitEvent),re.on(X,"reset",se.resetEvent),re.on(X,"blur",se.blurEvent),re.on(X,"focus",se.focusEvent),!0!==c.colorMask&&(re.on(X,"click",se.clickEvent),re.on(X,"mouseleave",se.mouseleaveEvent),re.on(X,"mouseenter",se.mouseenterEvent)),re.on(X,"paste",se.pasteEvent),re.on(X,"cut",se.cutEvent),re.on(X,"complete",c.oncomplete),re.on(X,"incomplete",c.onincomplete),re.on(X,"cleared",c.oncleared),d||!0===c.inputEventOnly?X.removeAttribute("maxLength"):(re.on(X,"keydown",se.keydownEvent),re.on(X,"keypress",se.keypressEvent)),re.on(X,"input",se.inputFallBackEvent),re.on(X,"beforeinput",se.beforeInputEvent)),re.on(X,"setvalue",se.setValueEvent),W=w().join(""),""!==X.inputmask._valueGet(!0)||!1===c.clearMaskOnLostFocus||o.activeElement===X)){var a=e.isFunction(c.onBeforeMask)&&c.onBeforeMask.call(Z,X.inputmask._valueGet(!0),c)||X.inputmask._valueGet(!0);""!==a&&F(X,!0,!1,a.split(""));var n=S().slice();W=n.join(""),!1===G(n)&&c.clearIncomplete&&h(),c.clearMaskOnLostFocus&&o.activeElement!==X&&(-1===v()?n=[]:B(n)),(!1===c.clearMaskOnLostFocus||c.showMaskOnFocus&&o.activeElement===X||""!==X.inputmask._valueGet(!0))&&N(X,n),o.activeElement===X&&R(X,D(v()))}}(X);break;case"format":return J=(e.isFunction(c.onBeforeMask)&&c.onBeforeMask.call(Z,a.value,c)||a.value).split(""),F.call(this,void 0,!0,!1,J),a.metadata?{value:ee?S().slice().reverse().join(""):S().join(""),metadata:l.call(this,{action:"getmetadata"},n,c)}:ee?S().slice().reverse().join(""):S().join("");case"isValid":a.value?(J=a.value.split(""),F.call(this,void 0,!0,!0,J)):a.value=S().join("");for(var le=S(),ce=U(),de=le.length-1;de>ce&&!j(de);de--);return le.splice(ce,de+1-ce),G(le)&&a.value===S().join("");case"getemptymask":return w().join("");case"remove":return X&&X.inputmask&&(e.data(X,"_inputmask_opts",null),K=e(X),X.inputmask._valueSet(c.autoUnmask?z(X):X.inputmask._valueGet(!0)),re.off(X),X.inputmask.colorMask&&((Y=X.inputmask.colorMask).removeChild(X),Y.parentNode.insertBefore(X,Y),Y.parentNode.removeChild(Y)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(X),"value")&&X.inputmask.__valueGet&&Object.defineProperty(X,"value",{get:X.inputmask.__valueGet,set:X.inputmask.__valueSet,configurable:!0}):o.__lookupGetter__&&X.__lookupGetter__("value")&&X.inputmask.__valueGet&&(X.__defineGetter__("value",X.inputmask.__valueGet),X.__defineSetter__("value",X.inputmask.__valueSet)),X.inputmask=void 0),X;case"getmetadata":if(e.isArray(n.metadata)){var ue=f(!0,0,!1).join("");return e.each(n.metadata,(function(e,t){if(t.mask===ue)return ue=t,!1})),ue}return n.metadata}}var c=navigator.userAgent,d=s("touchstart"),u=/iemobile/i.test(c),p=/iphone/i.test(c)&&!u;return i.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,o){return e.isFunction(o.onBeforeMask)?o.onBeforeMask.call(this,t,o):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0},definitions:{9:{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(r){function s(o,i,n,r){if(!0===i.importDataAttributes){var s,l,c,d,u=function(e,i){null!==(i=void 0===i?o.getAttribute(r+"-"+e):i)&&("string"==typeof i&&(0===e.indexOf("on")?i=t[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[e]=i)},p=o.getAttribute(r);if(p&&""!==p&&(p=p.replace(/'/g,'"'),l=JSON.parse("{"+p+"}")),l)for(d in c=void 0,l)if("alias"===d.toLowerCase()){c=l[d];break}for(s in u("alias",c),n.alias&&a(n.alias,n,i),i){if(l)for(d in c=void 0,l)if(d.toLowerCase()===s.toLowerCase()){c=l[d];break}u(s,c)}}return e.extend(!0,i,n),("rtl"===o.dir||i.rightAlign)&&(o.style.textAlign="right"),("rtl"===o.dir||i.numericInput)&&(o.dir="ltr",o.removeAttribute("dir"),i.isRTL=!0),Object.keys(n).length}var c=this;return"string"==typeof r&&(r=o.getElementById(r)||o.querySelectorAll(r)),r=r.nodeName?[r]:r,e.each(r,(function(t,o){var a=e.extend(!0,{},c.opts);if(s(o,a,e.extend(!0,{},c.userOptions),c.dataAttribute)){var r=n(a,c.noMasksCache);void 0!==r&&(void 0!==o.inputmask&&(o.inputmask.opts.autoUnmask=!0,o.inputmask.remove()),o.inputmask=new i(void 0,void 0,!0),o.inputmask.opts=a,o.inputmask.noMasksCache=c.noMasksCache,o.inputmask.userOptions=e.extend(!0,{},c.userOptions),o.inputmask.isRTL=a.isRTL||a.numericInput,o.inputmask.el=o,o.inputmask.maskset=r,e.data(o,"_inputmask_opts",a),l.call(o.inputmask,{action:"mask"}))}})),r&&r[0]&&r[0].inputmask||this},option:function(t,o){return"string"==typeof t?this.opts[t]:"object"===(void 0===t?"undefined":r(t))?(e.extend(this.userOptions,t),this.el&&!0!==o&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||n(this.opts,this.noMasksCache),l.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return l.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||n(this.opts,this.noMasksCache),l.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||n(this.opts,this.noMasksCache),l.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||n(this.opts,this.noMasksCache),l.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||n(this.opts,this.noMasksCache),l.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||n(this.opts,this.noMasksCache),l.call(this,{action:"format",value:e,metadata:t})},setValue:function(t){this.el&&e(this.el).trigger("setvalue",[t])},analyseMask:function(t,o,a){function n(e,t,o,i){this.matches=[],this.openGroup=e||!1,this.alternatorGroup=!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=o||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function r(t,n,r){r=void 0===r?t.matches.length:r;var s=t.matches[r-1];if(o)0===n.indexOf("[")||g&&/\\d|\\s|\\w]/i.test(n)||"."===n?t.matches.splice(r++,0,{fn:new RegExp(n,a.casing?"i":""),optionality:!1,newBlockMarker:void 0===s?"master":s.def!==n,casing:null,def:n,placeholder:void 0,nativeDef:n}):(g&&(n=n[n.length-1]),e.each(n.split(""),(function(e,o){s=t.matches[r-1],t.matches.splice(r++,0,{fn:null,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==o&&null!==s.fn,casing:null,def:a.staticDefinitionSymbol||o,placeholder:void 0===a.staticDefinitionSymbol?void 0:o,nativeDef:(g?"'":"")+o})}))),g=!1;else{var l=(a.definitions?a.definitions[n]:void 0)||i.prototype.definitions[n];l&&!g?t.matches.splice(r++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,a.casing?"i":""):new function(){this.test=l.validator}:/./,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==(l.definitionSymbol||n),casing:l.casing,def:l.definitionSymbol||n,placeholder:l.placeholder,nativeDef:n}):(t.matches.splice(r++,0,{fn:null,optionality:!1,newBlockMarker:void 0===s?"master":s.def!==n&&null!==s.fn,casing:null,def:a.staticDefinitionSymbol||n,placeholder:void 0===a.staticDefinitionSymbol?void 0:n,nativeDef:(g?"'":"")+n}),g=!1)}}function s(){if(0<k.length){if(r(p=k[k.length-1],d),p.isAlternator){f=k.pop();for(var e=0;e<f.matches.length;e++)f.matches[e].isGroup&&(f.matches[e].isGroup=!1);0<k.length?(p=k[k.length-1]).matches.push(f):_.matches.push(f)}}else r(_,d)}function l(e){var t=new n(!0);return t.openGroup=!1,t.matches=e,t}var c,d,u,p,f,m,h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,g=!1,_=new n,k=[],b=[];for(o&&(a.optionalmarker[0]=void 0,a.optionalmarker[1]=void 0);c=o?v.exec(t):h.exec(t);){if(d=c[0],o)switch(d.charAt(0)){case"?":d="{0,1}";break;case"+":case"*":d="{"+d+"}"}if(g)s();else switch(d.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case a.escapeChar:g=!0,o&&s();break;case a.optionalmarker[1]:case a.groupmarker[1]:if((u=k.pop()).openGroup=!1,void 0===u)s();else if(0<k.length){if((p=k[k.length-1]).matches.push(u),p.isAlternator){f=k.pop();for(var y=0;y<f.matches.length;y++)f.matches[y].isGroup=!1,f.matches[y].alternatorGroup=!1;0<k.length?(p=k[k.length-1]).matches.push(f):_.matches.push(f)}}else _.matches.push(u);break;case a.optionalmarker[0]:k.push(new n(!1,!0));break;case a.groupmarker[0]:k.push(new n(!0));break;case a.quantifiermarker[0]:var $=new n(!1,!1,!0),x=(d=d.replace(/[{}]/g,"")).split("|"),w=x[0].split(","),S=isNaN(w[0])?w[0]:parseInt(w[0]),C=1===w.length?S:isNaN(w[1])?w[1]:parseInt(w[1]);("*"===S||"+"===S)&&(S="*"===C?0:1),$.quantifier={min:S,max:C,jit:x[1]};var T=0<k.length?k[k.length-1].matches:_.matches;if((c=T.pop()).isAlternator){T.push(c),T=c.matches;var E=new n(!0),P=T.pop();T.push(E),T=E.matches,c=P}c.isGroup||(c=l([c])),T.push(c),T.push($);break;case a.alternatormarker:var O=function(e){var t=e.pop();return t.isQuantifier&&(t=l([e.pop(),t])),t};if(0<k.length){var M=(p=k[k.length-1]).matches[p.matches.length-1];m=p.openGroup&&(void 0===M.matches||!1===M.isGroup&&!1===M.isAlternator)?k.pop():O(p.matches)}else m=O(_.matches);if(m.isAlternator)k.push(m);else if(m.alternatorGroup?(f=k.pop(),m.alternatorGroup=!1):f=new n(!1,!1,!1,!0),f.matches.push(m),k.push(f),m.openGroup){m.openGroup=!1;var A=new n(!0);A.alternatorGroup=!0,k.push(A)}break;default:s()}}for(;0<k.length;)u=k.pop(),_.matches.push(u);return 0<_.matches.length&&(function t(i){i&&i.matches&&e.each(i.matches,(function(e,n){var s=i.matches[e+1];(void 0===s||void 0===s.matches||!1===s.isQuantifier)&&n&&n.isGroup&&(n.isGroup=!1,!o&&(r(n,a.groupmarker[0],0),!0!==n.openGroup&&r(n,a.groupmarker[1]))),t(n)}))}(_),b.push(_)),(a.numericInput||a.isRTL)&&function e(t){function o(e){return e===a.optionalmarker[0]?e=a.optionalmarker[1]:e===a.optionalmarker[1]?e=a.optionalmarker[0]:e===a.groupmarker[0]?e=a.groupmarker[1]:e===a.groupmarker[1]&&(e=a.groupmarker[0]),e}for(var i in t.matches=t.matches.reverse(),t.matches)if(t.matches.hasOwnProperty(i)){var n=parseInt(i);if(t.matches[i].isQuantifier&&t.matches[n+1]&&t.matches[n+1].isGroup){var r=t.matches[i];t.matches.splice(i,1),t.matches.splice(n+1,0,r)}t.matches[i]=void 0===t.matches[i].matches?o(t.matches[i]):e(t.matches[i])}return t}(b[0]),b}},i.extendDefaults=function(t){e.extend(!0,i.prototype.defaults,t)},i.extendDefinitions=function(t){e.extend(!0,i.prototype.definitions,t)},i.extendAliases=function(t){e.extend(!0,i.prototype.aliases,t)},i.format=function(e,t,o){return i(t).format(e,o)},i.unmask=function(e,t){return i(t).unmaskedvalue(e)},i.isValid=function(e,t){return i(t).isValid(e)},i.remove=function(t){"string"==typeof t&&(t=o.getElementById(t)||o.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,(function(e,t){t.inputmask&&t.inputmask.remove()}))},i.setValue=function(t,i){"string"==typeof t&&(t=o.getElementById(t)||o.querySelectorAll(t)),t=t.nodeName?[t]:t,e.each(t,(function(t,o){o.inputmask?o.inputmask.setValue(i):e(o).trigger("setvalue",[i])}))},i.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},i.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},i.dependencyLib=e,i}))},function(e,t,o){"use strict";var i,a,n;"function"==typeof Symbol&&Symbol.iterator,a=[o(4)],void 0===(n="function"==typeof(i=function(e){return e})?i.apply(t,a):i)||(e.exports=n)},function(e){e.exports=jQuery},function(e,t,o){"use strict";var i;"function"==typeof Symbol&&Symbol.iterator,void 0===(i=function(){return window}.call(t,o,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;"function"==typeof Symbol&&Symbol.iterator,void 0===(i=function(){return document}.call(t,o,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i,a,n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){a=[o(2)],void 0===(n="function"==typeof(i=r)?i.apply(t,a):i)||(e.exports=n)}((function(e){function t(e){if(!e.tokenizer){var t=[];for(var o in s)-1===t.indexOf(o[0])&&t.push(o[0]);e.tokenizer="("+t.join("+|")+")+?|.",e.tokenizer=new RegExp(e.tokenizer,"g")}return e.tokenizer}function o(o,i,a,n){for(var r,l="";r=t(a).exec(o);)if(void 0===i)if(s[r[0]])l+="("+s[r[0]][0]+")";else switch(r[0]){case"[":l+="(";break;case"]":l+=")?";break;default:l+=e.escapeRegex(r[0])}else s[r[0]]?!0!==n&&s[r[0]][3]?l+=s[r[0]][3].call(i.date):l+=s[r[0]][2]?i["raw"+s[r[0]][2]]:r[0]:l+=r[0];return l}function i(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}function a(e,o,i){function a(e,t){e[n]=function(e){var t;if(i.min&&i.min[n]||i.max&&i.max[n]){var o=i.min&&i.min[n]||i.max[n],a=i.max&&i.max[n]||i.min[n];for(t=e.replace(/[^0-9]/g,""),t+=(o.indexOf(t)<a.indexOf(t)?a:o).toString().substr(t.length);!new RegExp(d).test(t);)t--}else t=e.replace(/[^0-9]/g,"0");return t}(t),e["raw"+n]=t,void 0!==c&&c.call(e.date,"month"==n?parseInt(e[n])-1:e[n])}var n,l,c,d,u={date:new Date(1,0,1)},p=e;if("string"==typeof p){for(;l=t(i).exec(o);){var f=p.slice(0,l[0].length);s.hasOwnProperty(l[0])&&(d=s[l[0]][0],n=s[l[0]][2],c=s[l[0]][1],a(u,f)),p=p.slice(f.length)}return u}return p&&"object"===(void 0===p?"undefined":r(p))&&p.hasOwnProperty("date")?p:void 0}var n=e.dependencyLib,s={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return i(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return i(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return i(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return i(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return i(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["[01][0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return i(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["[0-5][0-9]",Date.prototype.setMinutes,"minutes",function(){return i(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return i(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return i(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return i(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},l={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};return e.extendAliases({datetime:{mask:function(e){return s.S=e.i18n.ordinalSuffix.join("|"),e.inputFormat=l[e.inputFormat]||e.inputFormat,e.displayFormat=l[e.displayFormat]||e.displayFormat||e.inputFormat,e.outputFormat=l[e.outputFormat]||e.outputFormat||e.inputFormat,e.placeholder=""===e.placeholder?e.inputFormat.replace(/[\[\]]/,""):e.placeholder,e.regex=o(e.inputFormat,void 0,e),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(e,t,i,n){n.min=a(n.min,n.inputFormat,n),n.max=a(n.max,n.inputFormat,n);var r=i,s=a(e.join(""),n.inputFormat,n);return r&&s.date.getTime()==s.date.getTime()&&(r=(r=function(e,t){return!(isFinite(e.rawday)&&("29"!=e.day||isFinite(e.rawyear))&&!(new Date(e.date.getFullYear(),isFinite(e.rawmonth)?e.month:e.date.getMonth()+1,0).getDate()>=e.day))&&t}(s,r))&&function(e,t){var o=!0;if(t.min){if(e.rawyear){var i=e.rawyear.replace(/[^0-9]/g,"");o=t.min.year.substr(0,i.length)<=i}e.year===e.rawyear&&t.min.date.getTime()==t.min.date.getTime()&&(o=t.min.date.getTime()<=e.date.getTime())}return o&&t.max&&t.max.date.getTime()==t.max.date.getTime()&&(o=t.max.date.getTime()>=e.date.getTime()),o}(s,n)),t&&r&&i.pos!==t?{buffer:o(n.inputFormat,s,n),refreshFromBuffer:{start:t,end:i.pos}}:r},onKeyDown:function(o,a,r,s){if(o.ctrlKey&&o.keyCode===e.keyCode.RIGHT){for(var l,c=new Date,d="";l=t(s).exec(s.inputFormat);)"d"===l[0].charAt(0)?d+=i(c.getDate(),l[0].length):"m"===l[0].charAt(0)?d+=i(c.getMonth()+1,l[0].length):"yyyy"===l[0]?d+=c.getFullYear().toString():"y"===l[0].charAt(0)&&(d+=i(c.getYear(),l[0].length));this.inputmask._valueSet(d),n(this).trigger("setvalue")}},onUnMask:function(e,t,i){return o(i.outputFormat,a(e,i.inputFormat,i),i,!0)},casing:function(e,t){return 0==t.nativeDef.indexOf("[ap]")?e.toLowerCase():0==t.nativeDef.indexOf("[AP]")?e.toUpperCase():e},insertMode:!1}}),e}))},function(e,t,o){"use strict";var i,a,n;"function"==typeof Symbol&&Symbol.iterator,a=[o(2)],i=function(e){function t(t,o){for(var i="",a=0;a<t.length;a++)i+=e.prototype.definitions[t.charAt(a)]||o.definitions[t.charAt(a)]||o.optionalmarker.start===t.charAt(a)||o.optionalmarker.end===t.charAt(a)||o.quantifiermarker.start===t.charAt(a)||o.quantifiermarker.end===t.charAt(a)||o.groupmarker.start===t.charAt(a)||o.groupmarker.end===t.charAt(a)||o.alternatormarker===t.charAt(a)?"\\"+t.charAt(a):t.charAt(a);return i}function o(e,t){if(t.numericInput){var o=i.inArray(t.radixPoint,e);-1===o&&(e.push(t.radixPoint),o=e.length-1);for(var a=1;a<=t.digits;a++)e[o+a]=e[o+a]||"0"}return e}var i=e.dependencyLib;return e.extendAliases({numeric:{mask:function(e){if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&e.digits&&"0"!==e.digits&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var o=Math.floor(e.integerDigits/e.groupSize),i=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===i?o-1:o),1>e.integerDigits&&(e.integerDigits="*")}1<e.placeholder.length&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var a="[+]";if(a+=t(e.prefix,e),a+=!0===e.integerOptional?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",void 0!==e.digits){var n=e.decimalProtect?":":e.radixPoint,r=e.digits.toString().split(",");isFinite(r[0])&&r[1]&&isFinite(r[1])?a+=n+";{"+e.digits+"}":(isNaN(e.digits)||0<parseInt(e.digits))&&(e.digitsOptional?a+="["+n+";{1,"+e.digits+"}]":a+=n+";{"+e.digits+"}")}return a+=t(e.suffix,e),a+="[-]",e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",preValidation:function(e,t,o,a,n,r){if("-"===o||o===n.negationSymbol.front)return!0===n.allowMinus&&(n.isNegative=void 0===n.isNegative||!n.isNegative,""===e.join("")||{caret:r.validPositions[t]?t:void 0,dopost:!0});if(!1===a&&o===n.radixPoint&&void 0!==n.digits&&(isNaN(n.digits)||0<parseInt(n.digits))){var s=i.inArray(n.radixPoint,e);if(-1!==s&&void 0!==r.validPositions[s])return!0===n.numericInput?t===s:{caret:s+1}}return!0},postValidation:function(t,o,a,n){var r=n.suffix.split(""),s=n.prefix.split("");if(void 0===a.pos&&void 0!==a.caret&&!0!==a.dopost)return a;var l=void 0===a.caret?a.pos:a.caret,c=t.slice();n.numericInput&&(l=c.length-l-1,c=c.reverse());var d=c[l];if(d===n.groupSeparator&&(d=c[l+=1]),l===c.length-n.suffix.length-1&&d===n.radixPoint)return a;void 0!==d&&d!==n.radixPoint&&d!==n.negationSymbol.front&&d!==n.negationSymbol.back&&(c[l]="?",0<n.prefix.length&&l>=(!1===n.isNegative?1:0)&&l<n.prefix.length-1+(!1===n.isNegative?1:0)?s[l-(!1===n.isNegative?1:0)]="?":0<n.suffix.length&&l>=c.length-n.suffix.length-(!1===n.isNegative?1:0)&&(r[l-(c.length-n.suffix.length-(!1===n.isNegative?1:0))]="?")),s=s.join(""),r=r.join("");var u=c.join("").replace(s,"");if(u=(u=(u=(u=u.replace(r,"")).replace(new RegExp(e.escapeRegex(n.groupSeparator),"g"),"")).replace(new RegExp("[-"+e.escapeRegex(n.negationSymbol.front)+"]","g"),"")).replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),""),isNaN(n.placeholder)&&(u=u.replace(new RegExp(e.escapeRegex(n.placeholder),"g"),"")),1<u.length&&1!==u.indexOf(n.radixPoint)&&("0"===d&&(u=u.replace(/^\?/g,"")),u=u.replace(/^0/g,"")),u.charAt(0)===n.radixPoint&&""!==n.radixPoint&&!0!==n.numericInput&&(u="0"+u),""!==u){if(u=u.split(""),(!n.digitsOptional||n.enforceDigitsOnBlur&&"blur"===a.event)&&isFinite(n.digits)){var p=i.inArray(n.radixPoint,u),f=i.inArray(n.radixPoint,c);-1===p&&(u.push(n.radixPoint),p=u.length-1);for(var m=1;m<=n.digits;m++)n.digitsOptional&&(!n.enforceDigitsOnBlur||"blur"!==a.event)||void 0!==u[p+m]&&u[p+m]!==n.placeholder.charAt(0)?-1!==f&&void 0!==c[f+m]&&(u[p+m]=u[p+m]||c[f+m]):u[p+m]=a.placeholder||n.placeholder.charAt(0)}if(!0!==n.autoGroup||""===n.groupSeparator||d===n.radixPoint&&void 0===a.pos&&!a.dopost)u=u.join("");else{var h=u[u.length-1]===n.radixPoint&&a.c===n.radixPoint;u=e(function(e,t){var o="";if(o+="("+t.groupSeparator+"*{"+t.groupSize+"}){*}",""!==t.radixPoint){var i=e.join("").split(t.radixPoint);i[1]&&(o+=t.radixPoint+"*{"+i[1].match(/^\d*\??\d*/)[0].length+"}")}return o}(u,n),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(u.join("")),h&&(u+=n.radixPoint),u.charAt(0)===n.groupSeparator&&u.substr(1)}}if(n.isNegative&&"blur"===a.event&&(n.isNegative="0"!==u),u=s+u,u+=r,n.isNegative&&(u=n.negationSymbol.front+u,u+=n.negationSymbol.back),u=u.split(""),void 0!==d)if(d!==n.radixPoint&&d!==n.negationSymbol.front&&d!==n.negationSymbol.back)-1<(l=i.inArray("?",u))?u[l]=d:l=a.caret||0;else if(d===n.radixPoint||d===n.negationSymbol.front||d===n.negationSymbol.back){var v=i.inArray(d,u);-1!==v&&(l=v)}n.numericInput&&(l=u.length-l-1,u=u.reverse());var g={caret:void 0!==d&&void 0===a.pos||void 0===l?l:l+(n.numericInput?-1:1),buffer:u,refreshFromBuffer:a.dopost||t.join("")!==u.join("")};return g.refreshFromBuffer?g:a},onBeforeWrite:function(t,o,a,n){if(t)switch(t.type){case"keydown":return n.postValidation(o,a,{caret:a,dopost:!0},n);case"blur":case"checkval":var r;if(function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp(e.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(n),null!==n.min||null!==n.max){if(r=n.onUnMask(o.join(""),void 0,i.extend({},n,{unmaskAsNumber:!0})),null!==n.min&&r<n.min)return n.isNegative=0>n.min,n.postValidation(n.min.toString().replace(".",n.radixPoint).split(""),a,{caret:a,dopost:!0,placeholder:"0"},n);if(null!==n.max&&r>n.max)return n.isNegative=0>n.max,n.postValidation(n.max.toString().replace(".",n.radixPoint).split(""),a,{caret:a,dopost:!0,placeholder:"0"},n)}return n.postValidation(o,a,{caret:a,placeholder:"0",event:"blur"},n);case"_checkval":return{caret:a}}},regex:{integerPart:function(t,o){return o?new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?"):new RegExp("["+e.escapeRegex(t.negationSymbol.front)+"+]?\\d+")},integerNPart:function(t){return new RegExp("[\\d"+e.escapeRegex(t.groupSeparator)+e.escapeRegex(t.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(t,o,i,a,n,r){var s;if("k"===t||"m"===t){s={insert:[],c:0};for(var l=0,c="k"===t?2:5;l<c;l++)s.insert.push({pos:i+l,c:0});return s.pos=i+c,s}if(!0!==(s=a?new RegExp("[0-9"+e.escapeRegex(n.groupSeparator)+"]").test(t):/[0-9]/.test(t)))a||t!==n.radixPoint||void 0!==o.validPositions[i-1]||(s={insert:{pos:i,c:0},pos:i+1});else if(!0!==n.numericInput&&void 0!==o.validPositions[i]&&"~"===o.validPositions[i].match.def&&!r){var d=o.buffer.join(""),u=(d=(d=d.replace(new RegExp("[-"+e.escapeRegex(n.negationSymbol.front)+"]","g"),"")).replace(new RegExp(e.escapeRegex(n.negationSymbol.back)+"$"),"")).split(n.radixPoint);1<u.length&&(u[1]=u[1].replace(/0/g,n.placeholder.charAt(0))),"0"===u[0]&&(u[0]=u[0].replace(/0/g,n.placeholder.charAt(0))),d=u[0]+n.radixPoint+u[1]||"";var p=o._buffer.join("");for(d===n.radixPoint&&(d=p);null===d.match(e.escapeRegex(p)+"$");)p=p.slice(1);s=void 0===(d=(d=d.replace(p,"")).split(""))[i]?{pos:i,remove:i}:{pos:i}}return s},cardinality:1},"+":{validator:function(e,t,o,i,a){return a.allowMinus&&("-"===e||e===a.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(e,t,o,i,a){return a.allowMinus&&e===a.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(t,o,i,a,n){var r="["+e.escapeRegex(n.radixPoint)+"]",s=new RegExp(r).test(t);return s&&o.validPositions[i]&&o.validPositions[i].match.placeholder===n.radixPoint&&(s={caret:i+1}),s},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(t,o,i){if(""===o&&!0===i.nullable)return o;var a=t.replace(i.prefix,"");return a=(a=a.replace(i.suffix,"")).replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),""!==i.placeholder.charAt(0)&&(a=a.replace(new RegExp(i.placeholder.charAt(0),"g"),"0")),i.unmaskAsNumber?(""!==i.radixPoint&&-1!==a.indexOf(i.radixPoint)&&(a=a.replace(e.escapeRegex.call(this,i.radixPoint),".")),+(a=(a=a.replace(new RegExp("^"+e.escapeRegex(i.negationSymbol.front)),"-")).replace(new RegExp(e.escapeRegex(i.negationSymbol.back)+"$"),""))):a},isComplete:function(t,o){var i=(o.numericInput?t.slice().reverse():t).join("");return i=(i=(i=(i=(i=i.replace(new RegExp("^"+e.escapeRegex(o.negationSymbol.front)),"-")).replace(new RegExp(e.escapeRegex(o.negationSymbol.back)+"$"),"")).replace(o.prefix,"")).replace(o.suffix,"")).replace(new RegExp(e.escapeRegex(o.groupSeparator)+"([0-9]{3})","g"),"$1"),","===o.radixPoint&&(i=i.replace(e.escapeRegex(o.radixPoint),".")),isFinite(i)},onBeforeMask:function(t,i){if(i.isNegative=void 0,"number"==typeof t&&""!==i.radixPoint&&(t=t.toString().replace(".",i.radixPoint)),t=t.toString().charAt(t.length-1)===i.radixPoint?t.toString().substr(0,t.length-1):t.toString(),""!==i.radixPoint&&isFinite(t)){var a=t.split("."),n=""===i.groupSeparator?0:parseInt(i.groupSize);2===a.length&&(a[0].length>n||a[1].length>n||a[0].length<=n&&a[1].length<n)&&(t=t.replace(".",i.radixPoint))}var r=t.match(/,/g),s=t.match(/\./g);if(t=s&&r?s.length>r.length?(t=t.replace(/\./g,"")).replace(",",i.radixPoint):r.length>s.length?(t=t.replace(/,/g,"")).replace(".",i.radixPoint):t.indexOf(".")<t.indexOf(",")?t.replace(/\./g,""):t.replace(/,/g,""):t.replace(new RegExp(e.escapeRegex(i.groupSeparator),"g"),""),0===i.digits&&(-1===t.indexOf(".")?-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(","))):t=t.substring(0,t.indexOf("."))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==t.indexOf(i.radixPoint)){var l=t.split(i.radixPoint)[1].match(/\d*/)[0];if(parseInt(i.digits)<l.toString().length){var c=Math.pow(10,parseInt(i.digits));t=t.replace(e.escapeRegex(i.radixPoint),"."),t=(t=Math.round(parseFloat(t)*c)/c).toString().replace(".",i.radixPoint)}}return o(t.toString().split(""),i).join("")},onKeyDown:function(t,o,a,n){var r=i(this);if(t.ctrlKey)switch(t.keyCode){case e.keyCode.UP:r.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(n.step)),r.trigger("setvalue");break;case e.keyCode.DOWN:r.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(n.step)),r.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),e},void 0===(n=i.apply(t,a))||(e.exports=n)},function(e,t,o){"use strict";var i,a,n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){a=[o(4),o(2)],void 0===(n="function"==typeof(i=r)?i.apply(t,a):i)||(e.exports=n)}((function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(o,i){var a,n=this[0];if(void 0===i&&(i={}),"string"==typeof o)switch(o){case"unmaskedvalue":return n&&n.inputmask?n.inputmask.unmaskedvalue():e(n).val();case"remove":return this.each((function(){this.inputmask&&this.inputmask.remove()}));case"getemptymask":return n&&n.inputmask?n.inputmask.getemptymask():"";case"hasMaskedValue":return!(!n||!n.inputmask)&&n.inputmask.hasMaskedValue();case"isComplete":return!(n&&n.inputmask)||n.inputmask.isComplete();case"getmetadata":return n&&n.inputmask?n.inputmask.getmetadata():void 0;case"setvalue":t.setValue(n,i);break;case"option":if("string"!=typeof i)return this.each((function(){if(void 0!==this.inputmask)return this.inputmask.option(i)}));if(n&&void 0!==n.inputmask)return n.inputmask.option(i);break;default:return i.alias=o,a=new t(i),this.each((function(){a.mask(this)}))}else{if(Array.isArray(o))return i.alias=o,a=new t(i),this.each((function(){a.mask(this)}));if("object"==(void 0===o?"undefined":r(o)))return a=new t(o),void 0===o.mask&&void 0===o.alias?this.each((function(){return void 0===this.inputmask?void a.mask(this):this.inputmask.option(o)})):this.each((function(){a.mask(this)}));if(void 0===o)return this.each((function(){(a=new t(i)).mask(this)}))}}),e.fn.inputmask}))}]);var rc_total_count=0;(function(e){var t={url:!1,callback:!1,target:!1,duration:120,on:"mouseover",touch:!0,onZoomIn:!1,onZoomOut:!1,magnify:1};e.zoom=function(t,o,i,a){var n,r,s,l,c,d,u,p=e(t),f=p.css("position"),m=e(o);return t.style.position=/(absolute|fixed)/.test(f)?f:"relative",t.style.overflow="hidden",i.style.width=i.style.height="",e(i).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:i.width*a,height:i.height*a,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(t),{init:function(){r=p.outerWidth(),n=p.outerHeight(),o===t?(l=r,s=n):(l=m.outerWidth(),s=m.outerHeight()),c=(i.width-r)/l,d=(i.height-n)/s,u=m.offset()},move:function(e){var t=e.pageX-u.left,o=e.pageY-u.top;o=Math.max(Math.min(o,s),0),t=Math.max(Math.min(t,l),0),i.style.left=t*-c+"px",i.style.top=o*-d+"px"}}},e.fn.zoom=function(o){return this.each((function(){var i=e.extend({},t,o||{}),a=i.target&&e(i.target)[0]||this,n=this,r=e(n),s=document.createElement("img"),l=e(s),c=!1,d=!1;if(!i.url){var u=n.querySelector("img");if(u&&(i.url=u.getAttribute("data-src")||u.currentSrc||u.src),!i.url)return}r.one("zoom.destroy",function(e,t){r.off(".zoom"),a.style.position=e,a.style.overflow=t,s.onload=null,l.remove()}.bind(this,a.style.position,a.style.overflow)),s.onload=function(){function t(t){u.init(),u.move(t),l.stop().fadeTo(e.support.opacity?i.duration:0,1,!!e.isFunction(i.onZoomIn)&&i.onZoomIn.call(s))}function o(){l.stop().fadeTo(i.duration,0,!!e.isFunction(i.onZoomOut)&&i.onZoomOut.call(s))}var u=e.zoom(a,n,s,i.magnify);"grab"===i.on?r.on("mousedown.zoom",(function(i){1===i.which&&(e(document).one("mouseup.zoom",(function(){o(),e(document).off("mousemove.zoom",u.move)})),t(i),e(document).on("mousemove.zoom",u.move),i.preventDefault())})):"click"===i.on?r.on("click.zoom",(function(i){return c?void 0:(c=!0,t(i),e(document).on("mousemove.zoom",u.move),e(document).one("click.zoom",(function(){o(),c=!1,e(document).off("mousemove.zoom",u.move)})),!1)})):"toggle"===i.on?r.on("click.zoom",(function(e){c?o():t(e),c=!c})):"mouseover"===i.on&&(u.init(),r.on("mouseenter.zoom",t).on("mouseleave.zoom",o).on("mousemove.zoom",u.move)),i.touch&&r.on("touchstart.zoom",(function(e){e.preventDefault(),d?(d=!1,o()):(d=!0,t(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]))})).on("touchmove.zoom",(function(e){e.preventDefault(),u.move(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])})).on("touchend.zoom",(function(e){e.preventDefault(),d&&(d=!1,o())})),e.isFunction(i.callback)&&i.callback.call(s)},s.setAttribute("role","presentation"),s.alt="",s.src=i.url}))},e.fn.zoom.defaults=t})(window.jQuery),$(document).ready((function(){if($(".page__slider:not(.page__slider_product-catalog)").slick({dots:!1,arrows:!0,infinite:!1,speed:300,slidesToShow:4,swipeToSlide:!0,variableWidth:!1,autoplay:!1,autoplaySpeed:4e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,slidesToScroll:1,arrows:!1}},{breakpoint:991,settings:{dots:!0,slidesToShow:2,slidesToScroll:1,arrows:!1}},{breakpoint:1080,settings:{dots:!0,slidesToShow:3,slidesToScroll:1,arrows:!1}},{breakpoint:1200,settings:{dots:!0,slidesToShow:3.5,slidesToScroll:1,arrows:!1}}]}),$(".page__slider-feedback").slick({dots:!1,arrows:!0,infinite:!1,speed:300,slidesToShow:3,swipeToSlide:!0,variableWidth:!1,autoplay:!1,autoplaySpeed:12e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1.1,arrows:!0,slidesToScroll:1}},{breakpoint:992,settings:{dots:!0,slidesToShow:2,slidesToScroll:1,arrows:!0}}]}),$(".page__slider-our-work").slick({dots:!0,arrows:!0,infinite:!1,speed:300,slidesToShow:3,swipeToSlide:!0,variableWidth:!1,pauseOnHover:!0,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!0,slidesToShow:2,slidesToScroll:1,arrows:!1}}]}),$(".page__slider-certificate").slick({dots:!0,arrows:!1,infinite:!1,speed:300,slidesToShow:1,swipeToSlide:!0,variableWidth:!1,pauseOnHover:!0,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!0,slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$(".page__slider-manager").slick({dots:!1,arrows:!0,infinite:!1,slidesToShow:4,swipeToSlide:!1,variableWidth:!1,autoplay:!1,autoplaySpeed:1e3,speed:500,cssEase:"linear",responsive:[{breakpoint:992,settings:{dots:!0,slidesToScroll:2,arrows:!1}}]}),$(".page__slider-shop-1-photo").slick({dots:!0,arrows:!0,infinite:!0,speed:300,slidesToShow:2,swipeToSlide:!0,variableWidth:!1,autoplay:!0,autoplaySpeed:12e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$(".page__slider-shop-1-proezd").slick({dots:!0,arrows:!0,infinite:!0,speed:300,slidesToShow:2,swipeToSlide:!0,variableWidth:!1,autoplay:!0,autoplaySpeed:12e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$(".page__slider-shop-2-photo").slick({dots:!0,arrows:!0,infinite:!0,speed:300,slidesToShow:2,swipeToSlide:!0,variableWidth:!1,autoplay:!0,autoplaySpeed:12e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$(".page__slider-shop-2-proezd").slick({dots:!0,arrows:!0,infinite:!0,speed:300,slidesToShow:2,swipeToSlide:!0,variableWidth:!1,autoplay:!0,autoplaySpeed:12e3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!1}}]}),$(".work-vh-slider").slick({dots:!0,arrows:!0,infinite:!0,speed:300,slidesToShow:3,swipeToSlide:!0,variableWidth:!1,autoplay:!0,autoplaySpeed:12e3,slidesToScroll:3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!1,slidesToShow:2,slidesToScroll:1,arrows:!1}}]}),$(".work-mk-slider").slick({dots:!0,arrows:!0,infinite:!0,speed:300,slidesToShow:3,swipeToSlide:!0,variableWidth:!1,autoplay:!0,autoplaySpeed:12e3,slidesToScroll:3,responsive:[{breakpoint:767,settings:{dots:!0,slidesToShow:1,arrows:!1,slidesToScroll:1}},{breakpoint:991,settings:{dots:!1,slidesToShow:2,slidesToScroll:1,arrows:!1}}]}),$(".page__top-banner").slick({dots:!0,arrows:!1,infinite:!0,speed:300,slidesToShow:1,swipeToSlide:!0,variableWidth:!1,autoplay:!0,autoplaySpeed:4e3}),!getCookie("CompareTest2AB")){var e,t=Math.floor(20*Math.random());5>t?e="a":10>t?e="b":15>t?e="c":20>t&&(e="d"),console.log("set CompareTest2AB = "+e),setCookie("CompareTest2AB",e,{path:"/"})}"a"==getCookie("CompareTest2AB")?($("body").removeClass("compare_true"),$("body").removeClass("popular_true"),$("body").removeClass("defer_true")):"b"==getCookie("CompareTest2AB")?$("body").addClass("compare_true"):"c"==getCookie("CompareTest2AB")?$("body").addClass("popular_true"):"d"==getCookie("CompareTest2AB")&&$("body").addClass("defer_true"),function(){var e=new Date,t=e.getFullYear(),o=e.getMonth(),i=document.querySelector(".js__sale-first-day");i&&(i.innerHTML=`1.${o+1}.${t}`)}(),function(){for(var e=new Date,t=e.getYear(),o=(e.getDate(),e.getMonth()),i=document.querySelectorAll(".js__sale-last-day"),a=new Date(t,o+1,0).getDate()+[" января"," февраля"," марта"," апреля"," мая"," июня"," июля"," августа"," сентября"," октября"," ноября"," декабря"][o],n=0,r=i.length;n<r;n++)i[n].innerHTML=a}(),function(){for(var e=new Date,t=e.getYear(),o=e.getDate(),i=e.getMonth(),a=document.querySelectorAll(".container-banners .js__sale-last-day"),n=new Date(t,i+1,0).getDate(),r=[" января"," февраля"," марта"," апреля"," мая"," июня"," июля"," августа"," сентября"," октября"," ноября"," декабря"],s=11==i&&o>=20?15+r[0]:n+r[i],l=0,c=a.length;l<c;l++)a[l].innerHTML=s}(),$(".success span, .warning span, .attention span, .information span").on("click",(function(){$(this).parent().fadeOut("slow",(function(){$(this).remove()}))})),$(document).on("click",(function(e){$("#page__map iframe").length&&("page__map"===e.target.id?$("#page__map iframe")[0].style.pointerEvents="all":$("#page__map iframe")[0].style.pointerEvents="none")})),$(".info-btn").on("click",(function(){window.location.href=$(this).attr("data-info")}))})),window.addEventListener("DOMContentLoaded",(function(){$(".header__reliability-item-feadback").each((function(){var e=$(this).data("count");$(this).html(declOfNum(e,["отзыв","отзыва","отзывов"]))})),document.getElementById("nav");var e=document.querySelector(".header__logo-img"),t=document.getElementById("header-fix"),o=document.getElementById("back-to-gd"),i=document.getElementById("header-fix__back");new IntersectionObserver((function(e){0>=e[0].intersectionRatio?(t&&t.classList.add("header-fix_show"),i.classList.add("header-fix__back_show"),o&&o.classList.add("back-to-gd_fix")):(t&&t.classList.remove("header-fix_show"),i.classList.remove("header-fix__back_show"),o&&o.classList.remove("back-to-gd_fix"))})).observe(e);var a=document.querySelector(".page__slider-feedback"),n=!1;a&&new IntersectionObserver((function(e){0<e[0].intersectionRatio&&!n&&(n=!0,window["yaCounter"+YaCounterId].reachGoal("watch-feedback"))})).observe(a)})),$(document).ready((function(){$(".header__links-link").on("click",(function(){window.location.href=$(this).data("info")})),$(".header__burger-checkbox").change((function(){$(this).is(":checked")?$("html, body").css("overflow","hidden"):$("html, body").css("overflow","auto")})),$("#header-fix__back").on("click",(function(){return $("body,html").animate({scrollTop:0},300),!1}))})),$(document).ready((function(){$("#main__banner").slick({dots:!0,arrows:!0,infinite:!0,speed:500,slidesToShow:1,variableWidth:!0,autoplay:!0,autoplaySpeed:4e3}),$("#main__review").slick({speed:1e4,autoplay:!0,autoplaySpeed:0,cssEase:"linear",slidesToShow:1,slidesToScroll:1,draggable:!1,pauseOnFocus:!1,pauseOnHover:!1,variableWidth:!0,infinite:!0,initialSlide:1,arrows:!1,dots:!1})})),$(document).ready((function(){$(".manager__analog").each((function(){var e=$(this),t=e.data("analogid");""!=t?$.memoizedAjax({url:"/products_by_id/"+t+".json",localStorage:!0,type:"GET",success:function(t){var o=t.products[0],i=o.variants[0];$(e).append("<a href='/product/"+o.permalink+"'>"+o.title+"</a><br>Цена полотна: <b>"+i.base_price+" ₽ ("+i.old_price+" ₽)</b>")}}):console.log("JSON argemunt is not exist",t)}))})),$(document).ready((function(){$(".product-door__analog").each((function(){var e=$(this),t=e.data("analogid");""!=t?$.memoizedAjax({url:"/products_by_id/"+t+".json",localStorage:!0,type:"GET",success:function(t){var o=t.products[0];o.variants[0],$(e).removeClass("product__button_hidden"),$(e).attr("href","/product/"+o.permalink)}}):console.log("JSON argemunt is not exist",t)}))})),$((function(e){var t,o,i,a,n;t=new Date,o=0,i=0,a=0,n=0,e(".date-price").each((function(r){n="index"+r,e(this).attr("id",n),o=e(this).data().date,i=new Date(e(this).data().date),a=(t.getTime()-i.getTime())/864e5,90>(a=Math.floor(a))?!isNaN(a)&&e(this).css({color:"#3d9a1e"}):!isNaN(a)&&(e(this).html(o+" - проверить цену закупа!!!"),e(this).css({color:"#ff0000","font-weight":"bold"}))}))})),window.addEventListener("DOMContentLoaded",(function(){if(!ge("filter__btns"))return!1;console.log("START");var e=ge("filter__btns"),t=ge("aside__filter"),o=!1;window.addEventListener("scroll",(function(){var i=t.getBoundingClientRect();o=!!(300>i.top),80>i.bottom-window.innerHeight&&(o=!1),o?e.classList.add("filter__btns_fix"):e.classList.remove("filter__btns_fix")}));var i=ge("filter__price");if(i){var a={setMin:i.dataset.setMin||i.dataset.collMin,setMax:i.dataset.setMax||i.dataset.collMax,min:i.dataset.collMin,max:i.dataset.collMax};noUiSlider.create(i,{start:[a.setMin,a.setMax],step:10,connect:!0,range:{min:parseInt(a.min,10),max:parseInt(a.max,10)}});var n=[ge("filter__price-from"),ge("filter__price-to")];i.noUiSlider.on("update",(function(e,t){n[t].value=parseInt(e[t]).toFixed(0)})),n[0].addEventListener("change input paste",(function(){i.noUiSlider.set([this.value,null])})),n[1].addEventListener("change input paste",(function(){i.noUiSlider.set([null,this.value])}))}var r=ge("filter__price_mob");if(r){r.dataset.setMin||r.dataset.collMin,r.dataset.setMax||r.dataset.collMax,r.dataset.collMin,r.dataset.collMax,noUiSlider.create(r,{start:[a.setMin,a.setMax],step:10,connect:!0,range:{min:parseInt(a.min,10),max:parseInt(a.max,10)}});var s=[ge("filter__price-from_mob"),ge("filter__price-to_mob")];r.noUiSlider.on("update",(function(e,t){s[t].value=parseInt(e[t]).toFixed(0)})),s[0].addEventListener("change input paste",(function(){r.noUiSlider.set([this.value,null])})),s[1].addEventListener("change input paste",(function(){r.noUiSlider.set([null,this.value])}))}var l=!1,c=function(e){console.log(e);var t=!1;$(".filter__block .form__checkbox-el[value='"+e.dataset.itemid+"']").each((function(){$(this).prop("checked",!$(this).prop("checked")),t=$(this).prop("checked")})),$(".filter__block option[value='"+e.dataset.itemid+"']").each((function(){$(this).prop("selected",!$(this).prop("selected")),t=$(this).prop("selected")})),e.className="filter__active-item filter__active-item_"+t,l||(l=!0,ge("filter__active-submit").style.display="inline-block")};ge("filter__active-submit")&&ge("filter__active-submit").addEventListener("click",(function(){t.submit()}));var d=ge("filter__active");console.log(d),!d||d.addEventListener("click",(function(e){console.log(e);for(var t=e.target;t!=d;){if(t.dataset&&t.dataset.itemid)return void c(t);t=t.parentNode}}),!1)})),window.addEventListener("DOMContentLoaded",(function(){function e(e){return!!e&&e.checked}var t=getCookie("design-modal-showed");if(!t){var o=$(".filter__list_ton-polotna").first().find("input"),i=$(".filter__list_dizayn-dveri").first().find("input");[].slice.call(o).some(e)&&[].slice.call(i).some(e)&&$(".filter__active-item").one("mouseover",(function(){t||(setCookie("design-modal-showed",!0),t=!0,$("#help-design").modal())}))}})),$(document).ready((function(){$(".info-link-tsena").on("click",(function(){$(".pravila").toggle()})),$(".filter__open-btn").on("click",(function(){$("#aside__filter_mob").show()})),$(".filter__btn-close").on("click",(function(){$("#aside__filter_mob").hide()})),$(".filter__star-block").each((function(){var e=$(this),t=e.find(".filter__star-input"),o=e.find(".filter__star-item-5");o.hide(),$.each(t,(function(){parseInt($(this).data("value"))>=5&&o.show()}))})),$(".filter__star-item").hover((function(){$(this).parent().addClass("filter__star-svg-block_hover-"+$(this).index())}),(function(){$(this).parent().removeClass("filter__star-svg-block_hover-"+$(this).index())})),$(".filter__star-item").on("click",(function(){var e=$(this).parents(".filter__block"),t=$(this).index(),o=$(this).parents(".filter__star-block").data("handle");e[0].className="filter__block filter__block_"+o+" filter__star-svg-block_"+t;var i=e.find(".filter__star-input");e.find(".form__checkbox-el_star").prop("checked",!0),$.each(i,(function(){$(this).prop("checked",!1),$(this).data("value")>=t&&$(this).prop("checked",!0)}))}));var e={};$(".filter__star-block").each((function(){var t=$(this),o=t.find(".filter__star-input"),i=10,a=t.data("name");e[t.data("handle")]={min:0,arr:[],name:t.data("name")},$.each(o,(function(){if(1==$(this).prop("checked")){var o=parseInt($(this).data("value")),a=$(this).val();e[t.data("handle")].arr.push(a),$("#filter__active-item-"+a).hide(),o<i&&(i=o),e[t.data("handle")].min=i}})),t.find(".filter__star-item-"+i).click(),10>i&&$(".filter__active").append("<div class='filter__active-item' data-handle='"+t.data("handle")+"'><span class='filter__active-title'>"+a+": от "+i+" звезд</span></div>")})),$(document).on("click",".filter__active-item",(function(){if($(this).data("handle")){var t=$(this),o=t.data("handle");$("#filter__active-submit").css("display","inline-block"),t.addClass("filter__active-item_false");var i=$("#general-star-checkbox-"+o);if(1==i.prop("checked"))i.prop("checked",!1).change();else{t.removeClass("filter__active-item_false"),t.addClass("filter__active-item_true");var a=e[o].min;$(".filter__star-block_"+o).find(".filter__star-item-"+a).click()}}})),$(".form__checkbox-el_star").change((function(){var e=$(this).parents(".filter__block"),t=$(this).parents(".filter__star-block").data("handle");this.checked?e.find(".filter__star-item-1").click():(e[0].className="filter__block filter__block_"+t,e.find(".filter__star-input").each((function(){$(this).prop("checked",!1)})))}))})),window.addEventListener("DOMContentLoaded",(function(){function e(e){var i=e.getBoundingClientRect(),a=t.getBoundingClientRect(),n=i.top+i.height/2+window.pageYOffset,r=a.right+window.pageXOffset+4;o.style.display="block",o.style.top=n+"px",o.style.left=r+"px"}var t=document.querySelector(".aside__filter"),o=document.querySelector(".js-filter-popup");if(t){var i=t.querySelector(".form__range");o&&o.addEventListener("click",(function(){t.querySelector(".filter__submit").click()})),i.addEventListener("click",(function(){e(i)})),t.addEventListener("change",(function(t){e(t.target.parentElement)}))}})),$(document).ready((function(){var e=$(".aside__filter");e.length&&e.submit((function(e){e.preventDefault();var t=this.querySelector(".filter__price-from"),o=this.querySelector(".filter__price-to");t.dataset.min==t.value&&(t.disabled=!0),o.dataset.max==o.value&&(o.disabled=!0),this.submit()}))})),function(){function e(e){""!=e?$.memoizedAjax({url:"/products_by_id/"+e+".json",localStorage:!0,type:"GET",success:function(e){var o=e.products[0].variants[0].price;e.products[0].variants.forEach((function(e){e.price!=o&&(o=!1),i[e.id]={price:parseInt(e.price),oldPrice:parseInt(e.old_price)}})),o||t()}}):console.log("JSON argemunt is not exist",e)}function t(){$(o).on("change",(function(){var e=$(this).val();$("#price-field2").html(i[e].price+" ₽"),$("#old-field2").html(i[e].oldPrice+" ₽")}))}var o,i={};window.productVariant=function(t){o=t,e($(t).data("id"))}}(),function(e){e.fn.feedbackToOrder=function(t){return this.each((function(){var o=e(this);o.submit((function(i){if(o.hasClass("feedback__form_sending"))return!1;o.addClass("feedback__form_sending");var a=0;o.find(".form__item").removeClass("form__item_error");var n={rayon:o.find("[name='feedback[rayon]']"),needDostavka:o.find("[name='feedback[nugna-dostavka]']"),needInstall:o.find("[name='feedback[nugna-ustanovka]']"),doorTitle:o.find(".modal-door-title"),summ:o.find("[name='feedback[summ]']"),name:o.find("input[name='feedback[name]']").val(),phone:o.find("input[name='feedback[phone]']"),content:o.find("input[name='feedback[content]']").val(),precontent:o.find("input[name='feedback[pre-content]']"),info:o.find("input[name='feedback[info]']").val(),shop:localStorage.getItem("shop"),email:o.find("input[name='feedback[from]']").val()||o.find("input[name='feedback[email]']").val(),source:o.find("input[name='feedback[source]']").val(),dop:o.find("input[name='feedback[dop]']"),agreement:o.find("input[name='eula_accepted']"),delivery:e("#createOrder").data("delivery"),payment:e("#createOrder").data("payment"),productId:0,doorType:e('#doors-select').val(),doorSize:e('#door-size-select').val()};if("shop_1"===n.shop)n.shop=localStorage.getItem("shop_1_adress");else if("shop_2"===n.shop)n.shop=localStorage.getItem("shop_2_adress");else if("shop_0"===localStorage.getItem("shop"))n.shop="Магазин не выбран";else{if(null!==n.shop)return n.shop="Магазин не выбран",$(".chooseCitySmall").toggleClass("active"),$(".chooseCitySmall").attr("data-form",$(this).attr("id")),console.log("id for small form",$(this).attr("id")),console.log("id for small form",$(this)),$(".popup.modal.fade.in").css({display:"none"}),o.removeClass("feedback__form_sending"),!1;n.shop=""}return n.productId=e(".product").length?e(".product").data("variant-id"):o.find("input[name='feedback[product-variant]']").length&&""!=o.find("input[name='feedback[product-variant]']").val()?o.find("input[name='feedback[product-variant]']").val():e("#createOrder").data("product"),n.summ=(n.summ.length,(n.precontent&&n.precontent.val()?n.precontent.val():"")+n.shop+"\n\n"+(n.summ&&n.summ.val()?"Количество комплектов: "+n.summ.val()+"\n":"")+(n.rayon&&n.rayon.val()?"Район: "+n.rayon.val()+"\n":"")+(n.needDostavka&&n.needDostavka.val()?n.needDostavka.val()+"\n":"")+(n.needInstall&&n.needInstall.val()?n.needInstall.val()+"\n":"")+(n.doorTitle&&n.doorTitle.html()?"Выбранная "+(n.doorTitle.hasClass("modal-article-title")?"акция: ":"дверь: ")+n.doorTitle.html()+"\n":"")+(n.doorType?"Способ открывания: "+n.doorType+"\n":"")+(n.doorSize?"Размер: "+n.doorSize+"\n":"")),n.dop=n.dop.length?"Сайт где нашли дешевле "+n.dop.val():"",n.phone.inputmask("isComplete")||(n.phone.parents(".form__item").addClass("form__item_error"),$(".popup.modal.fade.in").css({display:"block"}),a+=1),0==n.agreement.prop("checked")&&(n.agreement.parents(".form__item").addClass("form__item_error"),$(".popup.modal.fade.in").css({display:"block"}),a+=1),a&&o.removeClass("feedback__form_sending"),!a&&(n.phone=n.phone.val(),createOrder(n,o,t),i.preventDefault(),!1)}))}))}}(jQuery),$(document).ready((function(){var e=$(".accordion div.data"),t=$(".accordion .accordion-item");$(".accordion > .accordion-item").click((function(){return $(this).hasClass("open")?($(this).removeClass("open"),void $(this).next().slideUp("fast")):(e.slideUp("fast"),t.removeClass("open"),$(this).addClass("open"),$(this).next().slideDown("fast"),!1)})),$(".product__buy_only-polotno").on("click",(function(){$.post("/cart_items.json",{variant_id:$(".product__form_variant_id").val(),quantity:$(".product__form .form__count-input").val()}).done((function(e){$(".header__cart-count").html(e.items_count),$(".header__cart-summ").html(Math.round(e.total_price)+" ₽"),$("#product-popup-cart").modal("hide")}))})),$(".product__gallery").slick({dots:!1,arrows:!0,infinite:!1,slidesToShow:5,slidesToScroll:1,vertical:!0,speed:300,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1,vertical:!0,dots:!1}},{breakpoint:992,settings:{slidesToShow:1,slidesToScroll:1,vertical:!1,arrows:!1,dots:!0}}]}),1==$(".product__gallery-item").length&&$(".product__gallery").addClass("product__gallery_solo"),$(".product__image").zoom({url:$(this).find(".product__image-main").data("zoom")}),$(".product__gallery-item").on("click",(function(){$(".product__image").trigger("zoom.destroy");var e=$(this).data("image");$(".product__image").zoom({url:e}),$(".product__image-main").prop("src",$(this).data("image"))}));var o=$("#product__variant-size");o.length&&productVariant(o)})),$(document).ready((function(){function e(e){null==s.porog&&null==s.dobor&&null==s.zamok&&$.post("/collection/calc-service.json",{}).done((function(e){for(var t=0;t<e.products.length;t++)switch(e.products[t].title){case"(МКОБЛ) Установка порога межкомнатной двери":s.porog=parseInt(e.products[t].variants[0].base_price);break;case"(МКОБЛ) Установка 1го ряда доборного элемента межкомнатной двери до 20 см":s.dobor=parseInt(e.products[t].variants[0].base_price);break;case"(МКВРЕЗ) Врезка замка сантехнического/цилиндрового - 1 шт":s.zamok=parseInt(e.products[t].variants[0].base_price)}})),a||$.post("/collection/zashelka.json",{}).done((function(e){a={data:e.products[0],price:parseInt(e.products[0].variants[0].base_price),title:e.products[0].title.replace("Фурнитура - ","")},$("#calc__item_doorhandle-list").html("<div class='calc__dop-item'><span class='calc__dop-name'>"+a.title+"</span> <span class='calc__dop-price'>"+Math.round(a.price)+" ₽</span></div>").hide()}));var t=function(e,t,o){return'<label class="form__radio"><input type="radio" class="form__radio-el" '+(e?"":"checked")+' data-image="'+t.img+'" value="'+e+'" name="'+o+'"><span class="form__radio-label calc__item-label_img"><span class="calc__item-label-img" style="background-image: url('+t.img+')"></span><span class="calc__item-label-name">'+t.tip+' <span class="calc__item-label-price">'+(t.garant?"гарантия "+t.garant+", ":"")+" "+t.price+" ₽</span></span></span></label>"};l.length||$.post("/collection/calc-doorhandle.json",{}).done((function(e){for(var o=0;o<e.products.length;o++){for(var i=0,a=0,n=0;n<e.products[o].properties.length;n++)"Гарантия на комплектующие"==e.products[o].properties[n].title&&(i=e.products[o].properties[n].id),"Подвид товара"==e.products[o].properties[n].title&&(a=e.products[o].properties[n].id);for(var r={id:e.products[o].id,price:parseInt(e.products[o].variants[0].base_price),img:e.products[o].first_image.thumb_url,tip:""},s=0;s<e.products[o].characteristics.length;s++)e.products[o].characteristics[s].property_id==a&&(r.tip=e.products[o].characteristics[s].title),i&&e.products[o].characteristics[s].property_id==i&&(r.garant=e.products[o].characteristics[s].title);l.push(r),$("#calc__doorhandle").append(t(o,r,"doorhandle-type"))}$("#calc__item_doorhandle .calc__item-price").text(l[0].price+" ₽"),$("#calc__item_doorhandle .calc__item-selected-text").html("<span class='calc__item-label-img' style='background-image: url("+l[0].img+")'></span>"+l[0].tip)})),c.length||$.post("/collection/calc-doorhinges.json",{}).done((function(e){for(var o=0;o<e.products.length;o++){for(var i=0,a=0,n=0;n<e.products[o].properties.length;n++)"Подвид товара"==e.products[o].properties[n].title&&(i=e.products[o].properties[n].id),"Гарантия на комплектующие"==e.products[o].properties[n].title&&(a=e.products[o].properties[n].id);for(var r={id:e.products[o].id,price:parseInt(2*e.products[o].variants[0].base_price),img:e.products[o].first_image.thumb_url},s=0;s<e.products[o].characteristics.length;s++)e.products[o].characteristics[s].property_id==i&&(r.tip=e.products[o].characteristics[s].title),a&&e.products[o].characteristics[s].property_id==a&&(r.garant=e.products[o].characteristics[s].title);c.push(r),$("#calc__doorhinges").append(t(o,r,"doorhinges-type"))}$("#calc__item_doorhinges .calc__item-price").text(c[0].price+" ₽"),$("#calc__item_doorhinges .calc__item-selected-text").html("<span class='calc__item-label-img' style='background-image: url("+c[0].img+")'></span>"+c[0].tip)})),d.length&&u?o.zamok=u:$.post("/collection/santeh.json",{}).done((function(e){o.zamok=0;for(var t,i=0;i<e.products.length;i++)t={id:e.products[i].id,price:parseInt(e.products[i].variants[0].base_price)},u+=t.price,o.zamok+=t.price,d.push(t);$("#calc__item_zamok .calc__item-price").text(o.zamok+" ₽")})),e.find(".form__radio-el").parent().show(),e.find(".calc__product-link").prop("href",o.url).html(o.product),o.sku?e.find(".calc__product-sku").show().html(o.sku):e.find(".calc__product-sku").hide(),!o.korobt||o.dobor100t||o.dobor150t?$("#calc__item_dobor").show():($("#calc__item_dobor .form__checkbox-el").prop("checked",!1),$("#calc__item_dobor").hide()),(o.dobor150||o.dobor150t)&&($("#calc__dobor-size-label").html("150 мм"),p="150"),(o.dobor100||o.dobor100t)&&($("#calc__dobor-size-label").html("100 мм"),p="100"),e.find(".calc__product-sku").html(o.sku),$("#calc__item_product").find(".calc__item-price").text(o.price+" ₽"),$("#calc__item_zamok").find(".calc__item-price").text(o.zamok+" ₽"),$("#calc__item_service").find(".calc__item-price").text(o.service+" ₽"),0==o.korobt&&(e.find(".form__radio-el[name='pogon-type'][value='0']").prop("checked",!0).change(),e.find(".form__radio-el[name='pogon-type'][value='1']").parent().hide()),0==o.korob&&(e.find(".form__radio-el[name='pogon-type'][value='1']").prop("checked",!0).change(),e.find(".form__radio-el[name='pogon-type'][value='0']").parent().hide()),o.oldprice&&"0"!=o.oldprice?($(".calc__modal-right").addClass("calc__result_discount"),$("#calc__result-price_discount").text(Math.round(o.oldprice-o.price)+" ₽"),$("#calc__result-desc-oldprice").text(Math.round(o.oldprice)+" ₽")):$(".calc__modal-right").removeClass("calc__result_discount"),i="",e.find(".form__radio-el[name='nalich-type'][value='1']").prop("checked",!0).change(),e.find(".form__radio-el[name='dobor-type'][value='1.5']").prop("checked",!0).change(),e.find(".form__radio-el[name='ruchka-type'][value='0']").prop("checked",!0).change(),$("#calc__item_korob").find(".calc__item-price").text(o["korob"+i]+" ₽")}function t(){var e={price:o.price,korob:0,porog:0,porogService:0,nalich:0,dobor:0,doborService:0,doorhandle:0,zashelka:0,doorhinges:0,zamok:0,zamokService:0,service:!1,serviceList:""};i="1"==$(".form__radio-el[name='pogon-type']:checked").val()?"t":"",e.pogon=$(".form__radio-el[name='pogon-type']:checked").next().text(),e.korob=$("#calc__item_korob .form__checkbox-el").is(":checked")?2.5*o["korob"+i]:0,"1"==$(".form__radio-el[name='porog']:checked").val()&&$("#calc__item_korob .form__checkbox-el").is(":checked")&&(e.porog=Math.round(.5*o["korob"+i]),e.porogService=Math.round(s.porog),e.serviceList+="<div class='calc__dop-item'>Установка порога межкомнатной двери <span class='calc__dop-price'>"+Math.round(s.porog)+" ₽</span></div>"),$("#calc__item_korob").find(".calc__item-price").text(Math.round(2.5*o["korob"+i]+("1"==$(".form__radio-el[name='porog']:checked").val()?.5*o["korob"+i]:0))+" ₽"),e.nalichType=$(".form__radio-el[name='nalich-type']:checked").val(),e.nalich=$("#calc__item_nalich .form__checkbox-el").is(":checked")?2.5*o["nalich"+i]*e.nalichType:0,$("#calc__item_nalich").find(".calc__item-price").text(Math.round(2.5*o["nalich"+i]*e.nalichType)+" ₽"),e.doborType=$(".form__radio-el[name='dobor-type']:checked").val(),$("#calc__item_dobor .form__checkbox-el").is(":checked")&&(e.dobor=o["dobor"+p+i]*parseFloat(e.doborType),e.doborService=s.dobor,e.serviceList+="<div class='calc__dop-item'>Установка добора для 1 проема <span class='calc__dop-price'>"+Math.round(s.dobor)+" ₽</span></div>"),$("#calc__item_dobor").find(".calc__item-price").text(Math.round(o["dobor"+p+i]*parseFloat(e.doborType))+" ₽"),e.doorhandleType=$(".form__radio-el[name='doorhandle-type']:checked").val(),null!=e.doorhandleType&&(e.doorhandle=$("#calc__item_doorhandle .form__checkbox-el").is(":checked")?l[e.doorhandleType]:0,$("#calc__item_doorhandle .calc__item-price").html(l[e.doorhandleType].price+" ₽"),"Нажимная"==l[e.doorhandleType].tip?($("#calc__item_doorhandle-list").removeClass("calc__dop-item_active").show(),$("#calc__item_doorhandle .form__checkbox-el").is(":checked")&&($("#calc__item_doorhandle-list").addClass("calc__dop-item_active"),e.zashelka=a.price)):$("#calc__item_doorhandle-list").hide()),e.doorhingesType=$(".form__radio-el[name='doorhinges-type']:checked").val(),null!=e.doorhingesType&&(e.doorhinges=$("#calc__item_doorhinges .form__checkbox-el").is(":checked")?c[e.doorhingesType]:0,$("#calc__item_doorhinges").find(".calc__item-price").text(c[e.doorhingesType].price+" ₽")),$("#calc__item_zamok .form__checkbox-el").is(":checked")&&(e.zamok=o.zamok,e.zamokService=s.zamok,e.serviceList+="<div class='calc__dop-item'>Врезка замка сантехнического/цилиндрового <span class='calc__dop-price'>"+Math.round(s.zamok)+" ₽</span></div>");var t=e.price+e.korob+e.porog+e.nalich+e.dobor+(e.doorhandle?e.doorhandle.price:0)+(e.doorhinges?e.doorhinges.price:0)+e.zashelka+e.zamok;$("#calc__result-price_summ").text(Math.round(t)+" ₽"),$("#calc__result-desc-oldprice, #calc__result-price_summ-old").text(Math.round(t+o.oldprice-o.price)+" ₽"),e.service=!!$("#calc__item_service .form__checkbox-el").is(":checked"),e.serviceList="<div class='calc__dop-service'>в комплект входит:</div><div class='calc__dop-item'>Установка дверного полотна <span class='calc__dop-price'>"+Math.round(o.service)+" ₽</span></div>"+e.serviceList;var n=o.service+e.porogService+e.doborService+e.zamokService;$("#calc__result-service-summ").text(Math.round(n)+" ₽"),$("#calc__item_service .calc__item-price").text(Math.round(n)+" ₽");var r="";$(".calc__item .form__checkbox-el").each((function(){if($(this).is(":checked")){var e=$(this).prop("name");r+=" calc__result_"+e}})),"1"==$(".form__radio-el[name='porog']:checked").val()&&(r+=" calc__result_porog"),"1"==$(".form__radio-el[name='pogon-type']:checked").val()&&(r+=" calc__result_teleskop"),$(".calc__result")[0].className="calc__result "+r,$("#calc__item_service-list").html(e.serviceList);var d="";d+="Дверь: "+o.url+" , "+o.product+"\n\n Артикул: "+o.sku,d+=", цена: "+Math.round(o.price)+" ₽ ",o.oldprice&&"0"!=o.oldprice&&(d+=",скидка: "+Math.round(o.oldprice-o.price)+" ₽\n\n"),d+="\n\n\nКороб: "+(e.korob?Math.round(e.korob)+" ₽, тип: "+e.pogon:"нет")+"\n",d+="Порог: "+(e.porog?e.porog+" ₽":"нет")+"\n",d+="Наличники: "+(e.nalich?e.nalich+" ₽, сторон: "+e.nalichType:"нет")+"\n",d+="Добор: "+(e.dobor?e.dobor+" ₽, размер: "+p+"мм, кол-во: "+e.doborType+"шт.":"нет")+"\n",d+="Ручка: "+(e.doorhandle?e.doorhandle.price+" ₽, тип: "+e.doorhandle.tip:"нет")+"\n",e.zashelka&&(d+="Защелка: "+e.zashelka+" ₽ \n"),d+="Петли: "+(e.doorhinges?e.doorhinges.price+" ₽, тип: "+e.doorhinges.tip:"нет")+"\n",d+="Замок + завертка: "+(e.zamok?e.zamok+" ₽":"нет")+"\n\n\n",d+="Стоимость 1 комплекта*: "+Math.round(t)+" ₽\n",d+="Установка выбранного комплекта: "+(e.service?n+" ₽":"нет")+"\n\n",d+=o.oldprice&&"0"!=o.oldprice?"* Указанная скидка действует при покупке 2-х комплектов дверей и более. Цена 1 комплекта без скидки "+Math.round(t+o.oldprice-o.price)+" ₽. В зависимости от комплектации, размера и цвета двери, итоговая цена комплекта и установки может меняться.\n\n":"* В зависимости от комплектации, размера и цвета двери, итоговая цена комплекта и установки может меняться.\n\n\n",$("#calc__send-list").html(d),$("#calc__result-manager").val(d)}var o,i,a,n,r,s={porog:null,dobor:null,zamok:null},l=[],c=[],d=[],u=0,p="100";$("#modal__calc").on("show.bs.modal",(function(i){n=new Date,window["yaCounter"+YaCounterId].reachGoal("OPEN-CALC");var a=$(i.relatedTarget),r=$(this);o=a.data(),e(r),t()})),$("#modal__calc").on("hidden.bs.modal",(function(){r=new Date;var e={calcTime:Math.round((r-n)/1e3),currency:"SEK"};window["yaCounter"+YaCounterId].reachGoal("CLOSE-CALC",e)})),$("#modal__calc-result").on("show.bs.modal",(function(){window["yaCounter"+YaCounterId].reachGoal("OPEN-CALC-RESULT")})),$("#modal__calc-result").on("show.bs.modal",(function(){window["yaCounter"+YaCounterId].reachGoal("OPEN-CALC-RESULT")})),$("#calc__form").length&&$("#calc__form").feedbackToOrder((function(){window["yaCounter"+YaCounterId].reachGoal("SEND-CALC-RESULT"),$("#modal__calc-result_done").modal(),setTimeout((function(){$("#modal__calc-result, #modal__calc, #modal__calc-result_done").modal("hide")}),3e3)}));var f=null;$(document).click((function(e){if(f&&null!=f)for(var t=e.target||e.srcElement;t!=document&&$(t)[0]!=f[0];){if(t==document.body){f=null,$(".calc__item-select_show").removeClass("calc__item-select_show");break}t=t.parentNode}})),$(".calc__item").on("change",".form__radio-el",(function(){(function(e){f=null;var t=$(e).closest(".calc__item-selected");t.removeClass("calc__item-select_show"),t.find(".calc__item-selected-text").html($(e).next().html())})(this),t()})),$(".calc__item").hover((function(){$(".calc__result").addClass("calc__result_"+$(this).data("item")+"-hover")}),(function(){$(".calc__result").removeClass("calc__result_"+$(this).data("item")+"-hover")})),$(".calc__item").on("change",".form__checkbox-el",(function(){t(),$(this).closest(".calc__item").prop("class","calc__item calc__item_"+$(this).is(":checked"))})),$(".calc__item-selected").on("click",(function(){null===f?($(this).closest(".calc__item-selected").addClass("calc__item-select_show"),f=$(this)):(f.closest(".calc__item-selected").removeClass("calc__item-select_show"),$(this)[0]==f[0]&&(f=null))})),$(".calc__popup-form-phone").inputmask("+7(999)999-99-99").focus((function(){$(this).parent().removeClass("calc__popup-form-item_error")})),$(".calc__popup").on("hide.bs.modal",(function(){var e=$(this);e.find(".calc__popup-form_data").show(),e.find(".calc__popup-form_send").hide(),e.find(".calc__popup-form-phone").val(""),e.find(".calc__popup-form-sum").val("")})),$(".calc__popup").on("show.bs.modal",(function(e){function t(e,t,o){return(e?"<li class='calc__popup-item'><b>"+e+" ₽</b> (полотно + наличники с 1 стороны без порога)</li>":"")+(t?"<li class='calc__popup-item'><b>"+t+" ₽</b> (полотно + наличники с 2 сторон без порога)</li>":"")+(o?"<li class='calc__popup-item'><b>"+o+" ₽</b> (полотно + наличники с 2 сторон без порога + добор 1,5 шт)</li>":"")}var o=$(e.relatedTarget),i=$(this),a={product:o.data("product"),k1:o.data("kompl-1"),k2:o.data("kompl-2"),k3:o.data("kompl-3"),kt1:o.data("kompl-t-1"),kt2:o.data("kompl-t-2"),kt3:o.data("kompl-t-3")};i.find(".calc__popup-block_com, .calc__popup-block_tel").hide(),i.find(".calc__popup-block_com .calc__popup-list, .calc__popup-block_tel .calc__popup-list").html(""),i.find(".calc__popup-form-product").html(a.product),i.find(".calc__popup-form-product-input").val(a.product),(a.k1||a.k2||a.k3)&&(i.find(".calc__popup-block_com").show(),i.find(".calc__popup-block_com .calc__popup-list").append(t(a.k1,a.k2,a.k3))),(a.kt1||a.kt2||a.kt3)&&(i.find(".calc__popup-block_tel").show(),i.find(".calc__popup-block_tel .calc__popup-list").append(t(a.kt1,a.kt2,a.kt3)))})),$(".calc__popup-form").on("submit",(function(e){e.preventDefault();var t,o=!0,i=$(this).eq(0),a=i.find(".calc__popup-form-phone"),n=i.find(".calc__popup-form-sum").val(),r=i.find(".calc__popup-form-content").data("content"),s=i.find(".calc__popup-form-product-input").val(),l=i.find("input[name='feedback[info]']").val();if(a.inputmask("isComplete")?a.parent().removeClass("calc__popup-form-item_error"):(a.parent().addClass("calc__popup-form-item_error"),o=!1),t=n&&""!=n?r+" В заявке указано "+n+" дверей. "+s:r+" "+s,i.find(".calc__popup-form-content").val(t+"\n\n"+l+a.val()),o){i.serialize(),i.find(".calc__popup-form_data").hide(),i.find(".calc__popup-form_send").html("<img src='/served_assets/loading.svg'>").show();var c={summ:n,name:"не указано",phone:a.val(),content:t+"\n\n"+l+a.val(),info:i.find("input[name='feedback[info]']").val(),email:i.find("input[name='feedback[from]']").val(),source:i.find("input[name='feedback[source]']").val(),dop:i.find("input[name='feedback[dop]']"),delivery:$("#createOrder").data("delivery"),payment:$("#createOrder").data("payment"),productId:0};c.productId=$(".product").length?$(".product").data("variant-id"):$("#createOrder").data("product"),createOrder(c,i,(function(){}))}return!1}))})),$(document).ready((function(){$(".form__phone").inputmask("+7 (999) 999-99-99"),$(".feedback__form").feedbackToOrder(),$("#contact, #whatsapp, #calc-with-discounts, #selection, #consultation, #sample").on("show.bs.modal",(function(e){var t=$(e.relatedTarget);$(this).find("input[name='feedback[product-variant]']").val(t.data("product"))})),$("#contact, #whatsapp, #calc-with-discounts, #selection, #consultation, #sample").on("hide.bs.modal",(function(){$(this).find("input[name='feedback[product-variant]']").val("")}))}));var createOrder=function(e,t){if($(".page_cart").length&&t.is('[data-callibri_form_name^="feedback-calc-with-discounts"]')){let o;new Promise((function(t){$.ajax({url:"/cart_items.json",type:"get",success:function(i){if(console.log(i),0==i.items_count)$.ajax({url:"/cart_items.json",type:"post",data:"_method=put&cart[quantity]["+e.productId+"]=1",success:function(e){console.log(e),t(!0)}});else{o=JSON.parse(JSON.stringify(i)),console.log(o);let a={};for(let e=0;e<o.order_lines.length;e++)a["cart[quantity]["+o.order_lines[e].variant_id+"]"]=0;console.log(a),$.ajax({url:"/cart_items.json",type:"PUT",data:a,success:function(o){if(console.log(o),$(".cart-checkbox-item_active").length){let e={};$(".cart-checkbox-item_active").each((function(t){let o=$(this).closest(".catalog__item"),i=o.find('[name="variant_id"]').val(),a=+o.find(".catalog-addToBasket-form__count").text();e["cart[quantity]["+i+"]"]=a})),$.ajax({url:"/cart_items.json",type:"PUT",data:e,success:function(e){console.log(e),t(!1)}})}else $.ajax({url:"/cart_items.json",type:"post",data:"_method=put&cart[quantity]["+e.productId+"]=1",success:function(e){console.log(e),t(!1)}})}})}}})})).then((function(i){var a="";$.getJSON("/client_account/contacts.json",(function(e){console.log("contacts"),e&&e.client&&(a=e.client.email)})).then((function(i){$.ajax({url:"/fast_checkout.json",type:"post",data:{client:{email:e.email||a||"client@mail.ru",name:e.name,phone:e.phone,registered:!1,subscribe:!1},order:{comment:e.summ+e.content+"\n"+e.dop+"\n"+e.source+"\n\n"+e.info.replace("Заказ расчета со скидками","Корзина"),delivery_variant_id:e.delivery,payment_gateway_id:e.payment}},success:function(e){if(console.log(e),e.errors&&console.log(e),o&&o.order_lines.length){let i={};for(let e=0;e<o.order_lines.length;e++){let t=!1;$(".cart-checkbox-item_active").each((function(i){$(this).closest(".catalog__item").find('[name="variant_id"]').val()==o.order_lines[e].variant_id&&(t=!0)})),t||(i["cart[quantity]["+o.order_lines[e].variant_id+"]"]=o.order_lines[e].quantity)}console.log(i),$.ajax({url:"/cart_items.json",type:"PUT",data:i,success:function(o){console.log(o),console.log("Заказ ниже:"),console.log(e),t.removeClass("feedback__form_sending"),t.parents(".modal").modal("hide"),$("#modal__calc-result_done").modal(),setTimeout((function(){$("#modal__calc-result_done").modal("hide"),location.reload()}),2e3)}})}else t.removeClass("feedback__form_sending"),t.parents(".modal").modal("hide"),$("#modal__calc-result_done").modal(),setTimeout((function(){$("#modal__calc-result_done").modal("hide"),location.reload()}),2e3)},error:function(e){t.removeClass("feedback__form_sending"),console.log(e)}})}))}))}else{let o;new Promise((function(t){$.ajax({url:"/cart_items.json",type:"get",success:function(i){if(console.log(i),0==i.items_count)$.ajax({url:"/cart_items.json",type:"post",data:"_method=put&cart[quantity]["+e.productId+"]=1",success:function(e){console.log(e),t(!0)}});else{o=JSON.parse(JSON.stringify(i)),console.log(o);let a={};for(let e=0;e<o.order_lines.length;e++)a["cart[quantity]["+o.order_lines[e].variant_id+"]"]=0;console.log(a),$.ajax({url:"/cart_items.json",type:"PUT",data:a,success:function(o){console.log(o),$.ajax({url:"/cart_items.json",type:"post",data:"_method=put&cart[quantity]["+e.productId+"]=1",success:function(e){console.log(e),t(!1)}})}})}}})})).then((function(i){var a="";$.getJSON("/client_account/contacts.json",(function(e){console.log("contacts"),e&&e.client&&(a=e.client.email)})).then((function(i){$.ajax({url:"/fast_checkout.json",type:"post",data:{client:{email:e.email||a||"client@mail.ru",name:e.name,phone:e.phone,registered:!1,subscribe:!1},order:{comment:e.summ+e.content+"\n"+e.dop+"\n"+e.source+"\n\n"+e.info,delivery_variant_id:e.delivery,payment_gateway_id:e.payment}},success:function(e){if(console.log(e),e.errors&&console.log(e),o&&o.order_lines.length){let e={};for(let t=0;t<o.order_lines.length;t++)e["cart[quantity]["+o.order_lines[t].variant_id+"]"]=o.order_lines[t].quantity;console.log(e),$.ajax({url:"/cart_items.json",type:"PUT",data:e,success:function(e){console.log(e),t.removeClass("feedback__form_sending"),t.parents(".modal").modal("hide"),$("#modal__calc-result_done").modal(),setTimeout((function(){$("#modal__calc-result_done").modal("hide")}),2e3)}})}else t.removeClass("feedback__form_sending"),t.parents(".modal").modal("hide"),$("#modal__calc-result_done").modal(),setTimeout((function(){$("#modal__calc-result_done").modal("hide")}),2e3)},error:function(e){t.removeClass("feedback__form_sending"),console.log(e)}})}))}))}};(function(e){var t=function(t,o,i){e.ajax({url:"/client_account/feedback.json",type:"post",dataType:"json",data:t,beforeSend:function(){console.log("beforeSend")},complete:function(){consolr.log("complete")},success:function(e){"ok"==e.status&&(i&&"function"==typeof i&&i(),o.parents(".modal").modal("hide"))}})};e.fn.ajaxFeedback=function(o){return this.each((function(){var i=e(this);i.submit((function(e){var a=!1;i.find(".form__item").removeClass("form__item_error");var n=i.find("input[name='feedback[summ]']"),r=i.find("input[name='feedback[name]']"),s=i.find("input[name='feedback[phone]']"),l=i.find("input[name='feedback[content]']"),c=i.find("input[name='feedback[info]']"),d=(i.find("input[name='feedback[from]']")||i.find("input[name='feedback[email]']"),i.find("input[name='feedback[source]']")),u=i.find("input[name='feedback[dop]']"),p=i.find("input[name='eula_accepted']");if(n=n.length?"<b>Количество комплектов: "+n.val()+"</b><br>":"",u=u.length?"Сайт где нашли дешевле "+u.val():"",s.inputmask("isComplete")||(s.parents(".form__item").addClass("form__item_error"),a=!0),0==p.prop("checked")&&(p.parents(".form__item").addClass("form__item_error"),a=!0),a)return!1;var f={"feedback[subject]":i.find("input[name='feedback[subject]']").val(),"feedback[name]":r.val(),"feedback[phone]":s.val(),"feedback[content]":n+l.val()+"\n"+u+"\n"+d.val()+"\n\n"+c.val()+s.val(),"feedback[from]":"noreply@gigant-dveri.ru"};return t(f,i,o),e.preventDefault(),!1}))}))}})(jQuery),$((function(){$(document).on("click",".form__count-minus",(function(e){e.preventDefault();var t=$(this).closest(".form__count").find(".form__count-input"),o=parseInt(t.val());if(o<=1)return!1;o-=1,t[0].value=o,t.trigger("change")})),$(document).on("click",".form__count-plus",(function(e){e.preventDefault();var t=$(this).closest(".form__count").find(".form__count-input"),o=parseInt(t.val());o+=1,t[0].value=o,t.trigger("change")}))})),$(document).ready((function(){var e=[];function t(){if(o&&o.length){for(var t=Math.floor(Math.random()*o.length);e.includes(t);)t=Math.floor(Math.random()*o.length);e.push(t);var i=o.eq(t).clone();i.removeClass("slick-slide slick-active").css("width","100%"),i.appendTo($(".aside__review")),i.find(".fancybox").fancybox({helpers:{overlay:{locked:!1},title:{type:"float"}}}),document.getElementById("lazyload-script").onload=void new LazyLoad({elements_selector:".reliability-feedback__slide .lazyload"})}}$(".aside__review .reliability-feedback__text, .page__slider-feedback .reliability-feedback__text, .feedback__feedback-block .reliability-feedback__text").each((function(){let e=102;$(window).width()>991&&(e=114),e<$(this).height()&&($(this).addClass("part-hidden"),$(this).parents(".reliability-feedback__text-block").addClass("reliability-feedback__text-block--hide"),$(this).after("<a href='#' class='reliability-feedback__more'>Показать полностью</a>"))})),$(document).on("click",".aside__review .reliability-feedback__more, .page__slider-feedback .reliability-feedback__more, .feedback__feedback-block .reliability-feedback__more",(function(e){e.preventDefault();var t=$(this),o=t.parents(".reliability-feedback__text-block"),i=o.find(".reliability-feedback__text");"Показать полностью"==t.html()?(t.html("Скрыть"),i.removeClass("part-hidden"),o.removeClass("reliability-feedback__text-block--hide")):(t.html("Показать полностью"),o.addClass("reliability-feedback__text-block--hide"),i.addClass("part-hidden"))}));var o=$(".reliability-feedback__slide");t(),t(),t()}));var CompareObj={};$(document).ready((function(){function e(e,t){for(let o=0;o<e.length;o++)if(e[o].property_id==t)return"глухие"==e[o].title?"Глухая":"остекленные"==e[o].title?"Остекленная":e[o].title}function t(t){let o={};for(var i=0;i<t.properties.length;i++)o[t.properties[i].permalink]=e(t.characteristics,t.properties[i].id);return o}function o(e){$.getJSON("/compares.json").done((function(t){"function"==typeof e&&e(t.products),CompareObj=t.products,function(e){e.length?($("#compare__ears").addClass("compare__ears_show"),$(".ears_prezent").animate({right:"-300px"},500,(function(){$(".ears_prezent").addClass("hide")}))):($("#compare__ears").removeClass("compare__ears_show"),$(".ears_prezent").removeClass("hide"),$(".ears_prezent").animate({right:"0px"})),$("#compare__ears-val").html(1==e.length?"1 товар":e.length+" товара")}(t.products),function(e){$(".compare__add").each((function(){for(var t,o=this,i=!1,a=e.length-1;0<=a;a--)t=e[a].id,$(o).data("product-id")==t&&(i=!0);i?$(o).addClass("compare__js-del").removeClass("compare__js-add"):$(o).removeClass("compare__js-del").addClass("compare__js-add")}))}(t.products)})).fail((function(t){e(null,t)}))}if(o((function(){})),$(document).on("click",".compare__js-del",(function(e){e.preventDefault();var t=$(this).data("product-id");$.post("/compares/"+t+".json",{_method:"delete"}).done((function(){o((function(e){$("#compare").length&&($(".compare__value[data-compared-id='"+t+"']").hide(),0==e.length&&$("#compare").html('<p>В сравнении 0 товаров.</p><p>Выберите товары для сравнения из каталога <a href="/collection/dveri-mezhkomnatnye">межкомнатных</a> или <a href="/collection/dveri-vhodnye">входных</a> дверей.</p>'))}))})).fail((function(){}))})),$(document).on("click",".compare__js-add",(function(e){e.preventDefault();var i=$(this),a=i.data("product-id"),n=i.data("sku").slice(0,2);if(4==CompareObj.length)return $.miniNoty?$.miniNoty({message:"Для сравнения можно выбрать не более 4 товаров",timeoutToHide:5e3}):alert("Для сравнения можно выбрать не более 4 товаров"),window["yaCounter"+YaCounterId].reachGoal("compare-4-more"),!1;if(CompareObj.length){var r=t(CompareObj[0]),s=CompareObj[0].variants[0].sku;(""==s||null==s)&&(s="межкомнатная"==r["vid-tovara"]?"ДМ0000":"входная"==r["vid-tovara"]?"ДВ0000":"ФУР000")}CompareObj.length&&s.slice(0,2)!=n?$.miniNoty?$.miniNoty({message:"Выбран товар из другой категории",timeoutToHide:5e3}):alert("Выбран товар из другой категории"):$.post("/compares.json",{"product[id]":a}).done((function(){o((function(){}))})).fail((function(){}))})),$("#compare").length){var i=$("#compare"),a=!0;$(".compare__same-btn").on("click",(function(){a=!a,i.className="compare compare__same_"+a}));var n=!1;$(".compare__group-tr").on("click",(function(){var e=$(this).data("group");$(this).toggleClass("compare__group-btn_show"),$(".compare__group_"+e).toggle(),n||(n=!0,window["yaCounter"+YaCounterId].reachGoal("open-stars-compare"))}))}})),$(document).ready((function(){var e=$(".manager-block.manager-block_for-form"),t=$(".product__call-right-block"),o=$(".modal-dialog--reliability");e.length&&function i(){var a=e.eq(Math.floor(Math.random()*e.length)).clone(),n=a.children(".manager__photo"),r=a.find(".manager__name").html(),s=o.find(".modal-input-callback"),l=t.find(".input-callback-title"),c=l.val(),d=n.find("source"),u=n.find("img"),p=s.val();if(a.removeClass("slick-slide slick-active lazyload").css("width","100%")){var f=n.data("bg");n.css("background",f),n.css("background-size","cover"),d&&d.length&&d.attr("srcset",d.attr("data-srcset")),u&&u.length&&u.attr("data-src",d.attr("src")),a.appendTo($(".product__call-left-block")),s.val("ВНИМАНИЕ Менеджер "+r+"! "+p),l.val("ВНИМАНИЕ Менеджер "+r+"! "+c)}else i()}()})),$(document).ready((function(){function e(e){return 0==e?null:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function t(e,t){a[t]={price:parseInt(e.variants[0].base_price),variantId:e.variants[0].id}}function o(){function e(e,i,a){if(0==arguments.length)return t;if(i){var n=Object.assign({},i);n.count=a||1,n.name=e,t+="<li>"+n.name+" <b>"+Math.round(parseInt(n.price)*Math.round(n.count))+" ₽</b></li>",o.push(n)}else t+="<li>"+e+"</li>"}var t="",o=[];return e.cost=function(e){for(var t=0,i=o.length-1;0<=i;i--)t+=Math.round(o[i].count*e)*o[i].price;return Math.round(t)},e.items=function(){return o},e.clear=function(){t="",cost=0,o=[]},e}function i(){var t=0,o=parseInt($(".popular-solution__count .form__count-input").val()),i=0,a="",r="",s=c.items();switch(t+=c.cost(o),$("#popular-solution__doorhandle-complect").prop("checked")&&(t+=d.cost(o),s=s.concat(d.items())),$("#popular-solution__porog").prop("checked")&&(t+=u.cost(o),s=s.concat(u.items())),0<parseInt(n.oldcost)&&(i=parseInt(n.oldcost)-parseInt(n.cost),a="Цена действительна при покупке от 2 комплектов"),n.stock){case"tretya-dver-v-podarok":i=Math.round(parseInt(n.cost)-.666*parseInt(n.cost)),3>o?a="Цена действительна при покупке от 3 комплектов":(a="Цена по акции «1+1=3» ",r='<i class="catalog__price-help" data-tooltip="tretya-dver-v-podarok" data-from="html">?</i>');break;case"novaya-tsena-ustanovki-2":i=0,a="Скидка по акции «Супер установка»";break;case"darim-800-rub-na-furnituru":i=800,a="Скидка по акции «Дарим 800 ₽ на фурнитуру»"}window.GlobalPopularSolution=null,window.GlobalPopularSolution={},GlobalPopularSolution.count=o,GlobalPopularSolution.discount=i,GlobalPopularSolution.discountText=a,i?$(".popular-solution__price-discount, .popular-solution__price-old").show():$(".popular-solution__price-discount, .popular-solution__price-old").hide();var l=s.reduce(function(e){return function(t,i){return(e[i.variantId]=e[i.variantId]||t[t.push({variantId:i.variantId,count:0})-1]).count+=i.count*o,t}}(Object.create(null)),[]);GlobalPopularSolution.items=l,GlobalPopularSolution.resultSumm=Math.round(t-i*o),$(".popular-solution__price-description").html(a+r),$(".popular-solution__price-old").html(e(Math.round(t))+" ₽"),$(".popular-solution__price").html(e(GlobalPopularSolution.resultSumm)+" ₽"),$(".popular-solution__price-discount").html("Выгода "+e(Math.round(i*o))+" ₽"),GlobalPopularSolution.comment="Количество комплектов: "+o+"\n"+(a?"Акция: "+a:" ")+"\n"+(i?"Сумма скидки: "+Math.round(i*o)+" ₽":" ")+"\nОбщая сумма заказа"+(i?" со скидкой":"")+": "+GlobalPopularSolution.resultSumm+" ₽"}var a={},n=$(".product").data(),r=$("#popular-solution").data(),s="";for(var l in r)r[l]&&(s+=r[l]+",");s=s.slice(0,-1);var c=o(),d=o(),u=o();Promise.all([new Promise((function(e){$.post("/collection/price-tag-mk.json",{}).done((function(o){o.products.forEach((function(e){(e.title.toLowerCase().indexOf("навес")+1||e.title.toLowerCase().indexOf("петля")+1)&&t(e,"doorhinges"),e.title.toLowerCase().indexOf("ручка")+1&&t(e,"doorhandle"),e.title.toLowerCase().indexOf("защёлка")+1&&t(e,"latch")})),e()}))})),new Promise((function(e){$.post("/collection/calc-service.json",{}).done((function(o){o.products.forEach((function(e){switch(e.title){case"(МКОБЛ) Установка порога межкомнатной двери":t(e,"porogService");break;case"(МКОБЛ) Установка 1го ряда доборного элемента межкомнатной двери до 20 см":t(e,"doborService");break;case"(МКВРЕЗ) Врезка замка сантехнического/цилиндрового - 1 шт":t(e,"santehService")}})),e()}))})),new Promise((function(e){""!=s?$.memoizedAjax({url:"/products_by_id/"+s+".json",localStorage:!0,type:"GET",success:function(o){for(var i=o.products.length-1;0<=i;i--)for(var a in r)r[a]==o.products[i].id&&t(o.products[i],a);e()}}):console.log("JSON argemunt is not exist",s)}))]).then((function(){c("Полотно",{variantId:n.variantId,price:0<parseInt(n.oldcost)?n.oldcost:n.cost},1),c("2,5 шт Короба",a[a.hasOwnProperty("korobkaPr")?"korobkaPr":"korobkaTel"],2.5),a.hasOwnProperty("dobor100Pr")||a.hasOwnProperty("dobor100Tel")?c("2,5 шт Добора ",a[a.hasOwnProperty("dobor100Pr")?"dobor100Pr":"dobor100Tel"],2.5):c("2,5 шт Добора ",a[a.hasOwnProperty("dobor150Pr")?"dobor150Pr":"dobor150Tel"],2.5),c("Наличники с 2 сторон",a[a.hasOwnProperty("nalichnikPr")?"nalichnikPr":"nalichnikTel"],5),$("#popular-solution__list-door").append(c()),d("Ручка",a.doorhandle,1),d("Защелка",a.latch,1),d("2 петли",a.doorhinges,2),$("#popular-solution__list-doorhandle").append(d()),u("Базовая установка",a.ustanovka,1),u("Устан. доборов",a.doborService,1),$("#popular-solution__list-porog").append(u()),i()})),$(".popular-solution__checkbox-el, .popular-solution__count .form__count-input").change((function(){i()})),$("#popular-solution__submit").on("click",(function(){$("#complect-cart").modal(),window["yaCounter"+YaCounterId].reachGoal("popular-click")})),$(".popular-solution__start").on("click",(function(){window["yaCounter"+YaCounterId].reachGoal("popular-top-yes"),$("#product-popup-cart").modal("hide"),$("body,html").animate({scrollTop:Math.round($(".popular-solution__wrap").offset().top)-50},300)})),$("#product-popup-cart").on("click",(function(){window["yaCounter"+YaCounterId].reachGoal("popular-top")})),$("#complect-cart__form").submit((function(e){e.preventDefault();var t=0,o=$(this),i={summ:o.find("input[name='feedback[summ]']"),name:o.find("input[name='feedback[name]']").val(),phone:o.find("input[name='feedback[phone]']"),content:o.find("input[name='feedback[content]']").val(),info:o.find("input[name='feedback[info]']").val(),email:o.find("input[name='feedback[from]']").val()||o.find("input[name='feedback[email]']").val(),source:o.find("input[name='feedback[source]']").val(),agreement:o.find("input[name='eula_accepted']"),delivery:$("#createOrder").data("delivery"),payment:$("#createOrder").data("payment"),productId:0};return o.find(".form__item").removeClass("form__item_error"),i.phone.inputmask("isComplete")||(i.phone.parents(".form__item").addClass("form__item_error"),t+=1),0==i.agreement.prop("checked")&&(i.agreement.parents(".form__item").addClass("form__item_error"),t+=1),!t&&(i.phone=i.phone.val(),function(e,t){function o(e){for(var t={},o=0;o<e.length;++o)t[e[o].variantId]=Math.round(e[o].count);return t}function i(){$.post("/cart_items.json",{variant_ids:o(GlobalPopularSolution.items)}).done((function(){$.ajax({url:"/fast_checkout.json",type:"post",data:{client:{email:e.email||"client@mail.ru",name:e.name,phone:e.phone},order:{comment:GlobalPopularSolution.comment+"\n\n"+e.source+"\n\n"+e.info,delivery_variant_id:e.delivery,payment_gateway_id:e.payment}},success:function(e){console.log(e),t.parents(".modal").modal("hide"),$("#modal__calc-result_done").modal(),setTimeout((function(){$("#modal__calc-result_done").modal("hide")}),4e3)}})}))}$.post("/cart_items.json").done((function(e){e.items_count?function e(t){$.post("/cart_items/"+t+".json",{_method:"delete"}).done((function(t){t.items_count?e(t.items[0].variant_id):i()}))}(e.items[0].variant_id):i()}))}(i,o),e.preventDefault(),!1)}))})),$(document).ready((function(){let e=localStorage.getItem("doorsCount");0==e?$("body").attr("id","doors1"):($(".count-image").removeClass("hide"),$(".count-empty").addClass("hide"),$(".count-full").removeClass("hide"),$(".ears-counter").html(e),$(".ears-counter-text").data("count",e),$("body").attr("id","doors"+e),$(".modal-door-counter option[value="+e+"]").attr("selected","true"),$(".counter__advantage-text").each((function(){$(this).addClass("hide"),($(this).data("count")==e||e>6&&6==$(this).data("count"))&&$(this).removeClass("hide")})),$(".mk-size-input").val(e),$(".count-btn").each((function(){$(this).addClass("hide"),($(this).data("count")==e||e>6&&6==$(this).data("count"))&&$(this).removeClass("hide")})),$(".door-counter option").each((function(){($(this).val()==e||e>6&&6==$(this).val())&&$(this).attr("selected",!0)})),$(".mk-doors-presents")&&(e<3?($(".quantity-discount").each((function(){$(this).html($(this).data("one"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна при условии покупки 3 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 2250 Р (экономия равна цене 3 ручек)</h6><p>Скидка на 3 полотна - 3450 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):3==e?($(".quantity-discount").each((function(){$(this).html($(this).data("three"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна при условии покупки 3 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 2250 Р (экономия равна цене 3 ручек)</h6><p>Скидка на 3 полотна - 3450 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):4==e?($(".quantity-discount").each((function(){$(this).html($(this).data("four"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна + 1 комплекта фурнитуры при условии покупки 4 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 3000 Р (экономия равна цене 4 ручек)</h6><p>Скидка на 4 полотна - 4600 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):5==e?($(".quantity-discount").each((function(){$(this).html($(this).data("five"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна + 1 комплекта фурнитуры + 1 базовой установке при условии покупки 5 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 3000 Р (экономия равна цене 4 ручек)</h6><p>Скидка на 4 полотна - 4600 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):(6==e||e>6)&&($(".quantity-discount").each((function(){$(this).html($(this).data("six"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 2 полотен при условии покупки 6 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 3000 Р (экономия равна цене 4 ручек)</h6><p>Скидка на 4 полотна - 4600 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>'))),$(".ears-counter-text").each((function(){var e=$(this).data("count");$(this).html(declOfNum(e,["дверь","двери","дверей"]))}))),$(document).on("change","#feedbackDoorCounter, #feedbackSummDoorCounter, #fullpriceDoorCounter, #feedbackZvonokDoorCounter, .mk-size-input",(function(){console.log("change");let e=$(this).val();$(".counter__advantage-text").each((function(){$(this).addClass("hide"),($(this).data("count")==e||e>6&&6==$(this).data("count"))&&$(this).removeClass("hide")})),$(".count-btn").each((function(){$(this).addClass("hide"),($(this).data("count")==e||e>6&&6==$(this).data("count"))&&$(this).removeClass("hide")})),localStorage.setItem("doorsCount",e),$(".ears-counter").html(e),$(".ears-counter-text").data("count",e),$(".count-image").removeClass("hide"),$(".count-empty").addClass("hide"),$(".count-full").removeClass("hide"),$("body").attr("id",""),$("body").attr("id","doors"+e),$(".door-counter option").each((function(){$(this).attr("selected",!1),($(this).val()==e||e>6&&6==$(this).val())&&$(this).attr("selected",!0)})),$(".mk-size-input").val(e),$(".ears-counter-text").each((function(){var e=$(this).data("count");$(this).html(declOfNum(e,["дверь","двери","дверей"]))})),$(".mk-doors-presents")&&(e<3?($(".quantity-discount").each((function(){$(this).html($(this).data("one"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна при условии покупки 3 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 2250 Р (экономия равна цене 3 ручек)</h6><p>Скидка на 3 полотна - 3450 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):3==e?($(".quantity-discount").each((function(){$(this).html($(this).data("three"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна при условии покупки 3 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 2250 Р (экономия равна цене 3 ручек)</h6><p>Скидка на 3 полотна - 3450 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):4==e?($(".quantity-discount").each((function(){$(this).html($(this).data("four"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна + 1 комплекта фурнитуры при условии покупки 4 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 3000 Р (экономия равна цене 4 ручек)</h6><p>Скидка на 4 полотна - 4600 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):5==e?($(".quantity-discount").each((function(){$(this).html($(this).data("five"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 1 полотна + 1 комплекта фурнитуры + 1 базовой установке при условии покупки 5 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 3000 Р (экономия равна цене 4 ручек)</h6><p>Скидка на 4 полотна - 4600 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')):(6==e||e>6)&&($(".quantity-discount").each((function(){$(this).html($(this).data("six"))})),$("#tooltip_tretya-dver-v-podarok-help").html("<h6>Экономия по акции 1+1=3</h6><p>Экономия равна цене 2 полотен при условии покупки 6 комплектов дверей с погонажем и фурнитурой.</p><p>Подробности узнавайте у менеджеров магазина</p>"),$("#tooltip_ruchka-v-podarok").html('<h6>Экономия по акции "Ручка в подарок!" - 3000 Р (экономия равна цене 4 ручек)</h6><p>Скидка на 4 полотна - 4600 Р</p><p>Акция и скидка действуют при покупкие 3 комплектов с погонажем и фурнитурой. Подробности узнавайте у менеджера магазина.</p>')))})),$(".modal-door-title").html($(".product__title").html()),"closed"==localStorage.getItem("notice")&&$(window).width()>768?($(".notice-2").addClass("closed"),$(".notice-2").css({display:"flex"})):"closed"==localStorage.getItem("notice")&&$(window).width()<768?$(".notice-2").css({display:"none"}):$(".notice-2").css({display:"flex"}),$(".notice-2 .close").on("click",(function(){$(".notice-2").addClass("closed"),localStorage.setItem("notice","closed"),$(window).width()<768&&$(".notice-2").css({display:"none"})})),$(".notice-2 .info").on("click",(function(){$(".notice-2").removeClass("closed")})),$(".product__btns-chaffer").on("click",(function(){$(".install-block").find(`#count_${localStorage.getItem("doorsCount")}`).prop("checked",!0)})),$(document).on("click",'.catalog__set [data-target="#calc-with-discounts"], .catalog__set [data-target="#modal__request-complect-stock113"], .catalog__set [data-target="#zamer"], .catalog__item [data-target="#rassrochka"]',(function(e){let t=$(this).closest(".catalog__item").find(".catalog__title");t&&$(".modal-door-title").html(t.html())})),$(".birtday-left, .birthday__ears, .promo-banner a").on("click",(function(e){if($(this).attr("href")&&"#"==$(this).attr("href")[0]){let e=$($(this).attr("href")).find(".modal-door-title");e&&e.length&&e.parent().remove()}})),$('[data-target="#calc-with-action"]').on("click",(function(e){let t=$(this).closest(".promo").find(".promo__title a");t&&$(".modal-article-title").html(t.html())}));let t=localStorage.getItem("needInstall");null!==t&&(t="false"!==t,$(".modal__want-install-checkbox").each((function(){$(this).prop("checked",t),$(this).val($(this).attr("data-text")+(t?"Да":"Нет"))}))),$(document).on("change",".modal__want-install-checkbox",(function(e){t=$(this).is(":checked"),$(this).val($(this).attr("data-text")+(t?"Да":"Нет")),localStorage.setItem("needInstall",t),$(".modal__want-install-checkbox").each((function(){$(this).prop("checked",t),$(this).val($(this).attr("data-text")+(t?"Да":"Нет"))}))}));let o=localStorage.getItem("needDostavka");null!==o&&(o="false"!==o,$(".modal__want-dostavka-checkbox").each((function(){$(this).prop("checked",o),$(this).val($(this).attr("data-text")+(o?"Да":"Нет"))}))),$(document).on("change",".modal__want-dostavka-checkbox",(function(e){o=$(this).is(":checked"),$(this).val($(this).attr("data-text")+(o?"Да":"Нет")),localStorage.setItem("needDostavka",o),$(".modal__want-dostavka-checkbox").each((function(){$(this).prop("checked",o),$(this).val($(this).attr("data-text")+(o?"Да":"Нет"))}))}))}));var stringToColor=function(e){var t,o,i=0,a="#";if(!e)return a+"333333";for(o=e.length,t=0;t<o;t++)i=e.charCodeAt(t)+((i<<5)-i);for(t=0;t<3;t++)a+=("00"+(i>>8*t&255).toString(16)).substr(-2);return a};document.addEventListener("DOMContentLoaded",(function(e){let t=document.querySelectorAll(".reliability-feedback__slide");for(let e=0;e<t.length;e++){let o=t[e].querySelector(".reliability-feedback__user-no-photo");if(!o)continue;let i=t[e].querySelector(".reliability-feedback__user-name").textContent;o.parentNode.style.backgroundColor=stringToColor(i)}})),document.addEventListener("DOMContentLoaded",(function(e){let t=document.querySelector(".product-filter"),o=document.querySelector(".header__opened-menu"),i=document.querySelector(".header__fix-menu__top"),a=null;i&&(a=i.offsetHeight,t&&(t.style.top=a+"px"));let n=document.querySelector(".cart-fixed-row"),r=document.querySelector(".catalog"),s=document.querySelector(".birthday__text"),l=document.querySelector(".header__logo-img_mobile img"),c=document.querySelector(".header-fix__title_mobile"),d=0,u=document.querySelector(".header__contacts"),p=document.querySelector(".js-header__contacts"),f=null;u&&(f=u.offsetHeight);var m=!1;c&&c.addEventListener("transitionend",(function(){m&&(a=i.offsetHeight,o.style.paddingTop=a+"px",document.body.style.paddingTop=i.offsetHeight+"px")}),!1),u&&window.addEventListener("scroll",(function(e){if(!m){console.log("scroll first");let e=document.querySelector(".header__fix-menu");e&&e.classList.add("active");let t=document.querySelector(".header__opened-menu");t&&t.classList.add("active");let o=document.querySelector(".header__fix-menu__top"),i=null;o&&(i=o.offsetHeight,document.body.style.paddingTop=i+"px",t&&(t.style.paddingTop=i+"px")),m=!0}let h=window.pageYOffset||document.documentElement.scrollTop;h>0?(l&&(l.classList.contains("active")||l.classList.add("active")),u&&u.classList.contains("active")&&u.classList.remove("active"),p&&p.classList.contains("active")&&p.classList.remove("active"),i&&(i.classList.contains("active")||i.classList.add("active")),c&&(c.classList.contains("active")||c.classList.add("active")),s&&(s.classList.contains("active")||s.classList.add("active"))):(l&&l.classList.contains("active")&&l.classList.remove("active"),u&&(u.classList.contains("active")||u.classList.add("active")),p&&(p.classList.contains("active")||p.classList.add("active")),i&&i.classList.contains("active")&&i.classList.remove("active"),c&&c.classList.contains("active")&&c.classList.remove("active"),s&&s.classList.contains("active")&&s.classList.remove("active")),f=u.offsetHeight,h>d?(s&&(s.style.display="block"),a=i.offsetHeight,o.style.paddingTop=a+"px",t&&(t.classList.remove("product-filter--fixed"),t.style.top=a-f-10+"px",t.parentElement.style.paddingTop="0px"),n&&(h>112?(r.style.paddingTop="62px",n.classList.add("active"),s&&s.classList.add("dni")):(r.style.paddingTop="0px",n.classList.remove("active"),s&&s.classList.remove("dni")))):(n&&(h>112?(r.style.paddingTop="62px",n.classList.add("active"),s&&s.classList.add("dni")):(r.style.paddingTop="0px",n.classList.remove("active"),s&&s.classList.remove("dni"))),t&&(h>310?(t.classList.add("product-filter--fixed"),s&&(s.style.display="none"),t.parentElement.style.paddingTop=t.offsetHeight+"px"):(t.classList.remove("product-filter--fixed"),s&&(s.style.display="block"),t.parentElement.style.paddingTop="0px"),a=i.offsetHeight,t.style.top=a+"px"),a=i.offsetHeight,o.style.paddingTop=a+"px"),document.body.style.paddingTop=i.offsetHeight+"px",d=h<=0?0:h}),!1);let h=document.querySelectorAll(".header__links-link a");for(let e=0;e<h.length;e++)"https://"+window.location.hostname+h[e].getAttribute("href")==window.location.href&&h[e].closest(".header__links-item").classList.add("header__links-link_active");let v=document.querySelector(".bottom-menu-mobile__item_make-call");v&&v.addEventListener("click",(function(e){let t=v.querySelectorAll(".header__contact_phone");for(let e=0;e<t.length;e++)if("none"!=t[e].style.display)return void t[e].click()}));let g=document.querySelectorAll(".bottom-menu-mobile__item, .bottom-menu-mobile__item_sub");for(let e=0;e<g.length;e++)"https://"+window.location.hostname+g[e].getAttribute("data-info")==window.location.href&&g[e].classList.add("bottom-menu-mobile__item_active"),g[e].addEventListener("click",(function(t){g[e].classList.toggle("bottom-menu-mobile__item_active")}));let _=document.querySelector('.bottom-menu-mobile__item[data-target="#zamer"]');_&&$("#zamer").on("hidden.bs.modal",(function(e){_.classList.remove("bottom-menu-mobile__item_active")}))})),$(document).ready((function(){$(".popup").on("hidden.bs.modal",(function(){var e=$(this).find("iframe"),t=e.attr("src");e.attr("src",""),e.attr("src",t)}))}));var ajaxJSON=function(e,t,o,i=void 0,a=void 0){var n=new XMLHttpRequest;if(n.open(e,t,!0),n.responseType="json",a){var r=new FormData;for(var s in a)r.append(s,a[s])}n.onload=function(){var e=n.status;o(200===e?null:e,i,n.response)},a?n.send(r):n.send()};document.addEventListener("DOMContentLoaded",(function(){var e=20,t=0,o=document.querySelector("[data-ui-favorites-clear]"),i=document.querySelector("[data-ui-favorites-counter]"),a=document.querySelectorAll(".favorites-item");function n(o,n,r){console.log("clearFavorites",n," data: ",r);let s=document.querySelectorAll(".favorites-added");for(var l=0;l<s.length;l++)s[l].classList.remove("favorites-added"),s[l].classList.add("favorites-not-added");if(t==e)for(l=0;l<a.length;l++)a[l].classList.remove("favorites-limit");t=0,i&&(i.textContent=t)}function r(o,n,r){if(console.log("deleteFavorites",n," data: ",r),n.classList.contains("favorites-added")){if(t==e)for(var s=0;s<a.length;s++)a[s].classList.remove("favorites-limit");n.classList.remove("favorites-added"),n.classList.add("favorites-not-added"),t--,i&&(i.textContent=t)}}function s(o,n,r){if(console.log("addFavorites",n," data: ",r),!n.classList.contains("favorites-not-added"))return;if(n.classList.remove("favorites-not-added"),n.classList.add("favorites-added"),n.classList.add("favorites-adding"),t++,i&&(i.textContent=t),t==e)for(var s=0;s<a.length;s++)a[s].classList.contains("favorites-added")||a[s].classList.add("favorites-limit");setTimeout((function(){n.classList.remove("favorites-adding")}),3e3)}ajaxJSON("GET","/front_api/favorites.json",(function(l,c,d){!function(o){t=o.products.length,i&&(i.textContent=t);for(var n=0;n<o.products.length;n++){let e=document.querySelector(`[data-ui-favorites-trigger="${o.products[n].id}"]`);e&&(e.classList.remove("favorites-not-added"),e.classList.add("favorites-added"))}if(t==e)for(n=0;n<a.length;n++)a[n].classList.contains("favorites-added")||a[n].classList.add("favorites-limit")}(d),function(){o&&o.addEventListener("click",(function(){ajaxJSON("POST","/front_api/favorites/clear.json",n,this)}));for(var t=0;t<a.length;t++)a[t].addEventListener("click",(function(){this.classList.contains("favorites-limit")?alert(`Товар не добавлен. Максимум товаров в избранном: ${e}`):this.classList.contains("favorites-added")?ajaxJSON("POST","/front_api/favorites/"+this.getAttribute("data-ui-favorites-trigger")+".json",r,this,{lang:null,_method:"delete"}):this.classList.contains("favorites-not-added")&&ajaxJSON("POST","/front_api/favorites.json",s,this,{lang:null,"product[id]":this.getAttribute("data-ui-favorites-trigger")})}))}()}))})),$("#modal-city").length&&($("#modal-city").on("show.bs.modal",(function(){$(document.body).addClass("modal-city-open")})),$("#modal-city").on("hidden.bs.modal",(function(){$(document.body).removeClass("modal-city-open"),localStorage.setItem("citychanged",!0)})),$(".modal-city__btn_yes").on("click",(function(e){e.preventDefault(),location.pathname.includes("/collection/")?location.href="https://zelenograd.gigant-dveri.ru"+location.pathname:"/"==location.pathname&&(location.href="https://zelenograd.gigant-dveri.ru/")})),$(".modal-city__btn_no").on("click",(function(e){e.preventDefault(),$("#modal-city .close").click(),openchangecitypopup()})));
